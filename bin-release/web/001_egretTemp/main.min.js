var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.isLoadRes=null,e.isFirstOpen=!0,e.classId=gAutoId.id,e.className=e.__proto__.__class__.split(".")[1],e.isFirstOpen=!0,e}return __extends(e,t),e.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.init.apply(this,t),this.isLoadRes||(this.isLoadRes=!0,this.load()),this._resizeView(),GameMgr.gameScene.removeEventListener(gConst.eventType.RESIZE_VIEW,this._resizeView,this),GameMgr.gameScene.addEventListener(gConst.eventType.RESIZE_VIEW,this._resizeView,this),this._rotateView(),GameMgr.gameScene.removeEventListener(gConst.eventType.ROTATE_VIEW,this._rotateView,this),GameMgr.gameScene.addEventListener(gConst.eventType.ROTATE_VIEW,this._rotateView,this),this.start(),this.update(),this.removeEventListener(egret.Event.ENTER_FRAME,this.update,this),this.addEventListener(egret.Event.ENTER_FRAME,this.update,this),this.removeEvent(),this.addEvent(),this.isFirstOpen&&(this.isFirstOpen=!1)},e.prototype.close=function(){this.end(),gComMgr.rmObj(this),this.dispatchEventWith(gConst.eventType.CLOSE)},e.prototype.end=function(){this.isLoadRes=!1,GameMgr.gameScene.removeEventListener(gConst.eventType.RESIZE_VIEW,this._resizeView,this),GameMgr.gameScene.removeEventListener(gConst.eventType.ROTATE_VIEW,this._rotateView,this),this.removeEventListener(egret.Event.ENTER_FRAME,this.update,this),this.removeEvent(),this.stop()},e.prototype.show=function(){this.visible=!0},e.prototype.hide=function(){this.visible=!1},e.prototype.destroy=function(t){GameMgr.gameScene.removeEventListener(gConst.eventType.RESIZE_VIEW,this.resizeView,this),GameMgr.gameScene.removeEventListener(gConst.eventType.ROTATE_VIEW,this.rotateView,this),this.removeEventListener(egret.Event.ENTER_FRAME,this.update,this),this.removeEvent(),this.isFirstOpen=!1,t?gComMgr.fadeOutDestory(this):gComMgr.destory(this)},e.prototype.clickInstall=function(t){t&&t.stopPropagation(),Mapi.install()},e.prototype.createParticles=function(t,e,i,o,a,r,s){return void 0===a&&(a=!0),void 0===r&&(r=0),void 0===s&&(s=0),this.particleMgr||(this.particleMgr=new util.ParticleMgr(this)),this.particleMgr.createParticles(t,e,i,o,a,r,s)},e.prototype.getParticle=function(t){return this.particleMgr?this.particleMgr.getParticle(t):void 0},e.prototype.startParticles=function(t){this.particleMgr&&this.particleMgr.startParticles(t)},e.prototype.startParticle=function(t,e){this.particleMgr&&this.particleMgr.startParticle(t,e)},e.prototype.stopParticles=function(t){this.particleMgr&&this.particleMgr.stopParticles(t)},e.prototype.stopParticle=function(t,e){this.particleMgr&&this.particleMgr.stopParticle(t,e)},e.prototype.setParticlesIndex=function(t){this.particleMgr&&this.particleMgr.setParticlesIndex(t)},e.prototype.updataParticlesEmitter=function(){this.particleMgr&&this.particleMgr.updataParticlesEmitter()},e.prototype.setParticlesPos=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.particleMgr&&this.particleMgr.setParticlesPos(t,e)},e.prototype.setMaxParticles=function(t,e){this.particleMgr&&this.particleMgr.setMaxParticles(t,e)},e.prototype.showStar=function(t,e,i){this.starMgr||(this.starMgr=new util.StarMgr(t)),this.starMgr.show(e,i)},e.prototype.updateStarData=function(t,e){this.starMgr&&this.starMgr.updateData(t,e)},e.prototype.hideStar=function(t){void 0===t&&(t=!0),this.starMgr&&this.starMgr.hide(t)},e.prototype.showFloat=function(t,e){this.floatMgr||(this.floatMgr=new util.FloatMgr(t)),this.floatMgr.show(e)},e.prototype.updateFloatData=function(t){this.floatMgr&&this.floatMgr.updateData(t)},e.prototype.hideFloat=function(t){void 0===t&&(t=!0),this.floatMgr&&this.floatMgr.hide(t)},e.prototype._resizeView=function(t){this.resizeView(t),this.updataParticlesEmitter()},e.prototype._rotateView=function(t){this.rotateView(t)},e}(eui.Component);t.ComFileBase=e,__reflect(e.prototype,"com.ComFileBase")}(com||(com={}));var ui;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.isUiFirstLimit=!0,t.isLoadRes=null,t.isFirstOpen=!0,t.screenType=null,t.mobileType=null,t.classId=gAutoId.id,t.isFirstOpen=!0,t}return __extends(i,e),i.prototype.open=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];if(this.className===gDevelop.classToString(t.UiFirst))GameMgr.gameScene.addChild(this);else{var o=gUiMgr.get(t.UiFirst);if(o&&o.parent&&this.isUiFirstLimit){var a=GameMgr.gameScene.getChildIndex(o);this.parent===GameMgr.gameScene&&(a--,a=Math.max(a,0)),GameMgr.gameScene.addChildAt(this,a)}else GameMgr.gameScene.addChild(this)}this.init.apply(this,e),this.isFirstOpen&&this._initResizeView(),this.isLoadRes||(this.isLoadRes=!0,this.load()),this._resizeView(),GameMgr.stage.removeEventListener(egret.Event.RESIZE,this._resizeView,this),GameMgr.stage.addEventListener(egret.Event.RESIZE,this._resizeView,this),this.start(),this.update(),this.removeEventListener(egret.Event.ENTER_FRAME,this.update,this),this.addEventListener(egret.Event.ENTER_FRAME,this.update,this),this.removeEvent(),this.addEvent(),this.isFirstOpen&&(this.isFirstOpen=!1)},i.prototype.close=function(){this.end(),gComMgr.rmObj(this),this.dispatchEventWith(gConst.eventType.CLOSE)},i.prototype.end=function(){this.isLoadRes=!1,GameMgr.stage.removeEventListener(egret.Event.RESIZE,this._resizeView,this),this.removeEventListener(egret.Event.ENTER_FRAME,this.update,this),this.removeEvent(),this.stop()},i.prototype.show=function(){this.visible=!0},i.prototype.hide=function(){this.visible=!1},i.prototype.destroy=function(t){var e=gUiMgr.getByClassName(this.className);e&&(e.removeEventListener(egret.Event.ENTER_FRAME,e.update,e),e.removeEvent(),t?gComMgr.fadeOutDestory(e):e=gComMgr.destory(e),gUiMgr.destroy(this.className),this.isLoadRes=null)},i.prototype.clickInstall=function(t){t&&t.stopPropagation(),Mapi.install()},i.prototype.clickReplay=function(t){t.stopPropagation(),GameMgr.replay()},i.prototype.gameEnd=function(){Mapi.gameEnd()},i.prototype.createParticles=function(t,e,i,o,a,r,s){return void 0===a&&(a=!0),void 0===r&&(r=0),void 0===s&&(s=0),this.particleMgr||(this.particleMgr=new util.ParticleMgr(this)),this.particleMgr.createParticles(t,e,i,o,a,r,s)},i.prototype.getParticle=function(t){return this.particleMgr?this.particleMgr.getParticle(t):void 0},i.prototype.startParticles=function(t){this.particleMgr&&this.particleMgr.startParticles(t)},i.prototype.startParticle=function(t,e){this.particleMgr&&this.particleMgr.startParticle(t,e)},i.prototype.stopParticles=function(t){this.particleMgr&&this.particleMgr.stopParticles(t)},i.prototype.stopParticle=function(t,e){this.particleMgr&&this.particleMgr.stopParticle(t,e)},i.prototype.setParticlesIndex=function(t){this.particleMgr&&this.particleMgr.setParticlesIndex(t)},i.prototype.updataParticlesEmitter=function(){this.particleMgr&&this.particleMgr.updataParticlesEmitter()},i.prototype.setParticlesPos=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.particleMgr&&this.particleMgr.setParticlesPos(t,e)},i.prototype.setMaxParticles=function(t,e){this.particleMgr&&this.particleMgr.setMaxParticles(t,e)},i.prototype.showStar=function(t,e,i){this.starMgr||(this.starMgr=new util.StarMgr(t)),this.starMgr.show(e,i)},i.prototype.updateStarData=function(t,e){this.starMgr&&this.starMgr.updateData(t,e)},i.prototype.hideStar=function(t){void 0===t&&(t=!0),this.starMgr&&this.starMgr.hide(t)},i.prototype.showFloat=function(t,e){this.floatMgr||(this.floatMgr=new util.FloatMgr(t)),this.floatMgr.show(e)},i.prototype.updateFloatData=function(t){this.floatMgr&&this.floatMgr.updateData(t)},i.prototype.hideFloat=function(t){void 0===t&&(t=!0),this.floatMgr&&this.floatMgr.hide(t)},i.prototype._initResizeView=function(){var t,e,i,o=GameMgr.getWinW,a=GameMgr.getWinH,r=this.isFirstOpen;return a>o?(0===this.screenType&&(r=!0),this.screenType=1,t=750,e=750/o*a,i=o/a):(1===this.screenType&&(r=!0),this.screenType=0,e=750,t=750/a*o,i=a/o),this.width=Math.ceil(t),this.height=Math.ceil(e),this.mobileType=.51>i?1:.65>i?2:3,r},i.prototype._resizeView=function(t){var e=this._initResizeView();this.resizeView(),this.updataParticlesEmitter(),e&&this.rotateView()},i}(eui.Component);t.UiFileBase=e,__reflect(e.prototype,"ui.UiFileBase")}(ui||(ui={}));var util;!function(t){var e=function(){function t(){}return t.prototype.clickAim=function(t,e,i){switch(void 0===e&&(e=1),gTween.rmTweens(t),e){case 0:var o=t.alpha;gTween.tween(t,void 0,{props:{alpha:0},duration:200,call:{callback:function(){t.visible=!1,t.alpha=o},thisObj:this}});break;case 1:var a=i&&i.x?i.x:t.scaleX,r=i&&i.y?i.y:t.scaleY;egret.Tween.get(t).to({scaleX:.85*a,scaleY:.85*r},200).to({scaleX:a,scaleY:r},200)}},t.prototype.rmObj=function(t){return t&&t.parent&&t.parent.removeChild(t),null},t.prototype.rmEvent=function(t){this.destoryEvent(t.$getEventMap()),this.destoryEvent(t.$getEventMap(!0))},t.prototype.setObjSize=function(t,e){void 0===e&&(e=!1);var i=RES.getRes(t.source);if(i&&(t.width=i.textureWidth,t.height=i.textureHeight),e){var o=t.parent;o&&(o.width=t.width*t.scaleX,o.height=t.height*t.scaleY)}},t.prototype.setObjAnchor=function(t,e){void 0===e&&(e=!1),this.setObjSize(t,e);var i=t.width/2,o=t.height/2;t.anchorOffsetX=i,t.anchorOffsetY=o},t.prototype.setItemAnchor=function(t,e,i){if(void 0===e&&(e=!0),void 0===i&&(i=!0),t){var o=RES.getRes(t.source);o&&(t.width=o.textureWidth,t.height=o.textureHeight);var a=t.width/2,r=t.height/2;t.anchorOffsetX=a,t.anchorOffsetY=r;var s=Math.abs(t.scaleX),n=Math.abs(t.scaleY);if(e){var h=t.parent;h&&(h.width=t.width*s,h.height=t.height*n,i&&(h.anchorOffsetX=t.anchorOffsetX*s,h.anchorOffsetY=t.anchorOffsetY*n))}t.x=a*s,t.y=r*n}},t.prototype.destory=function(t){return this.rmEvent(t),gTween.rmTweens(t),this.rmObj(t),null},t.prototype.fadeOutDestory=function(t,e,i,o){var a=this;void 0===e&&(e=300);for(var r=[],s=4;s<arguments.length;s++)r[s-4]=arguments[s];gTween.fadeOut(t,e,void 0,void 0,void 0,{callback:function(){a.destory(t),i&&i.call.apply(i,[o].concat(r))}})},t.prototype.destoryEvent=function(t){if(t)for(var e in t){var i=t[e];if(i)for(;i.length;){var o=i.pop();o.target.removeEventListener(o.type,o.listener,o.thisObject,o.useCapture)}}},t.prototype.toLocal=function(t,e,i,o){return t?(e=void 0!=e?e:t.x,i=void 0!=i?i:t.y,t.globalToLocal(e,i,o)):void 0},t.prototype.toGlobal=function(t,e,i,o){return t?t.parent?(e=void 0!=e?e:t.x,i=void 0!=i?i:t.y,t.parent.localToGlobal(e,i,o)):(e=void 0!=e?e:0,i=void 0!=i?i:0,t.localToGlobal(e,i,o)):void 0},t.prototype.hitTestObj=function(t,e,i,o){if(void 0===i&&(i={x:0,y:0}),void 0===o&&(o={x:0,y:0}),t&&e){var a=t.getBounds(),r=e.getBounds();return a.x=t.x+(i.x||0),a.y=t.y+(i.y||0),r.x=e.x+(o.x||0),r.y=e.y+(o.y||0),a.intersects(r)}},t}();t.ComMgr=e,__reflect(e.prototype,"util.ComMgr")}(util||(util={}));var scene;!function(t){var e=function(e){function i(){var t=e.call(this)||this;return t.isLoadRes=null,t.isFirstOpen=!0,t.screenType=null,t.mobileType=null,t.firstTouch=null,t.classId=gAutoId.id,t.isFirstOpen=!0,t}return __extends(i,e),i.prototype.open=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=GameMgr.main;i.addChild(GameMgr.gameScene),this.init.apply(this,t),this.isFirstOpen&&this._initResizeView(),this.isLoadRes||(this.isLoadRes=!0,this.load()),this._resizeView(),GameMgr.stage.removeEventListener(egret.Event.RESIZE,this._resizeView,this),GameMgr.stage.addEventListener(egret.Event.RESIZE,this._resizeView,this),this.start(),this._update(),this.removeEventListener(egret.Event.ENTER_FRAME,this._update,this),this.addEventListener(egret.Event.ENTER_FRAME,this._update,this),this.removeEvent(),this.addEvent(),this.isFirstOpen&&(this.isFirstOpen=!1)},i.prototype.close=function(){this.end(),gComMgr.rmObj(this),this.dispatchEventWith(gConst.eventType.CLOSE)},i.prototype.end=function(){this.isLoadRes=!1,GameMgr.stage.removeEventListener(egret.Event.RESIZE,this._resizeView,this),this.removeEventListener(egret.Event.ENTER_FRAME,this._update,this),this.removeEvent(),gComMgr.rmEvent(this),this.stop()},i.prototype.show=function(){this.visible=!0},i.prototype.hide=function(){this.visible=!1},i.prototype.clickReplay=function(t){t.stopPropagation(),GameMgr.replay()},i.prototype.gameEnd=function(){Mapi.gameEnd(),this.UiFirst.updateDir({horDir:gConst.direction.RIGHT_TOP,verDir:gConst.direction.CENTER_TOP},{horDir:gConst.direction.RIGHT_TOP,verDir:gConst.direction.CENTER_BOTTOM}),this.UiFirst.gameEnd()},i.prototype.replay=function(){this.destroy(),GameMgr.init(),GameMgr.gameScene=new t.GameScene,GameMgr.gameScene.open(),this.parent&&(this.parent.addChild(GameMgr.gameScene),this.parent.removeChild(this)),Mapi.gameRetry()},i.prototype.destroy=function(){this.UiFirst&&this.UiFirst.destroy(),this.removeEvent(),this.isLoadRes=null},i.prototype.clickInstall=function(t){t&&t.stopPropagation(),Mapi.install()},i.prototype.autoEnd=function(){var t=GameMgr.getConfig("autoEndTime");void 0!=t&&t>0&&(egret.clearTimeout(this.endDelay),this.endDelay=egret.setTimeout(this.openEnd,this,1e3*t))},i.prototype.createParticles=function(t,e,i,o,a,r,s){return void 0===a&&(a=!0),void 0===r&&(r=0),void 0===s&&(s=0),this.particleMgr||(this.particleMgr=new util.ParticleMgr(this)),this.particleMgr.createParticles(t,e,i,o,a,r,s)},i.prototype.getParticle=function(t){return this.particleMgr?this.particleMgr.getParticle(t):void 0},i.prototype.startParticles=function(t){this.particleMgr&&this.particleMgr.startParticles(t)},i.prototype.startParticle=function(t,e){this.particleMgr&&this.particleMgr.startParticle(t,e)},i.prototype.stopParticles=function(t){this.particleMgr&&this.particleMgr.stopParticles(t)},i.prototype.stopParticle=function(t,e){this.particleMgr&&this.particleMgr.stopParticle(t,e)},i.prototype.setParticlesIndex=function(t){this.particleMgr&&this.particleMgr.setParticlesIndex(t)},i.prototype.updataParticlesEmitter=function(){this.particleMgr&&this.particleMgr.updataParticlesEmitter()},i.prototype.setParticlesPos=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.particleMgr&&this.particleMgr.setParticlesPos(t,e)},i.prototype.setMaxParticles=function(t,e){this.particleMgr&&this.particleMgr.setMaxParticles(t,e)},i.prototype.showStar=function(t,e,i){this.starMgr||(this.starMgr=new util.StarMgr(t)),this.starMgr.show(e,i)},i.prototype.updateStarData=function(t,e){this.starMgr&&this.starMgr.updateData(t,e)},i.prototype.hideStar=function(t){void 0===t&&(t=!0),this.starMgr&&this.starMgr.hide(t)},i.prototype.showFloat=function(t,e){this.floatMgr||(this.floatMgr=new util.FloatMgr(t)),this.floatMgr.show(e)},i.prototype.updateFloatData=function(t){this.floatMgr&&this.floatMgr.updateData(t)},i.prototype.hideFloat=function(t){void 0===t&&(t=!0),this.floatMgr&&this.floatMgr.hide(t)},i.prototype.openFirst=function(){this.UiFirst=gUiMgr.create(ui.UiFirst),this.UiFirst.open({horDir:gConst.direction.RIGHT_TOP,verDir:gConst.direction.CENTER_TOP},{horDir:gConst.direction.RIGHT_BOTTOM,verDir:gConst.direction.CENTER_BOTTOM})},i.prototype.closeFirst=function(){this.UiFirst&&this.UiFirst.close()},i.prototype.openEnd=function(t){void 0===t&&(t=!0),egret.clearTimeout(this.endDelay),GameMgr.isEnd||(GameMgr.isEnd=!0,this.hideGuide(),this.removeEvent(),Mapi.gameEnd(),t&&this.showEnd())},i.prototype.showEnd=function(){this.gameEnd(),this.showEndOther()},i.prototype.showEndOther=function(){},i.prototype.closeEnd=function(){},i.prototype.showGuide=function(){if(!GameMgr.isEnd&&!this.showGuided){this.showGuided=!0,this.guide||(this.guide=new com.ComGuide,this.guide.open());this.firstTouch?gConst.firstGuideTimer:gConst.afterGuideTimer}},i.prototype.hideGuide=function(){this.firstTouch=!1,this.guide&&this.showGuided&&(this.showGuided=!1,this.guide.over())},i.prototype._update=function(t){var e=GameMgr.getWinW;this.curW!=e&&this._resizeView(),this.update()},i.prototype._initResizeView=function(t){var e,i=GameMgr.getWinW,o=GameMgr.getWinH,a=null===GameMgr.screenType||t;GameMgr.stage.stageWidth<GameMgr.stage.stageHeight?(0===GameMgr.screenType&&(a=!0),GameMgr.screenType=1,GameMgr.stage.scaleMode=egret.StageScaleMode.FIXED_WIDTH,e=GameMgr.stage.stageWidth/GameMgr.stage.stageHeight):(1===GameMgr.screenType&&(a=!0),GameMgr.screenType=0,GameMgr.stage.scaleMode=egret.StageScaleMode.FIXED_HEIGHT,e=GameMgr.stage.stageHeight/GameMgr.stage.stageWidth),GameMgr.mobileType=.51>e?1:.65>e?2:3,this.curW=i;var r,s;return i>o?(s=750,r=750/o*i,GameMgr.stage.orientation=egret.OrientationMode.LANDSCAPE):(r=750,s=750/i*o,GameMgr.stage.orientation=egret.OrientationMode.PORTRAIT),GameMgr.gameScene&&(GameMgr.gameScene.width=Math.ceil(r),GameMgr.gameScene.height=Math.ceil(s)),GameMgr.scale=1,a},i.prototype._resizeView=function(t){var e=this._initResizeView();this.resizeView(),this.updataParticlesEmitter(),e&&this.rotateView()},i}(eui.Component);t.GameBase=e,__reflect(e.prototype,"scene.GameBase")}(scene||(scene={}));var ui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.isUiFirstLimit=!0,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){},e.prototype.start=function(){},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.open=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];t.prototype.open.apply(this,e)},e.prototype.close=function(){t.prototype.close.call(this)},e.prototype.show=function(){t.prototype.show.call(this)},e.prototype.hide=function(){t.prototype.hide.call(this)},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e)},e.prototype.resizeView=function(){if(1==this.screenType)switch(this.mobileType){case 1:break;case 2:break;case 3:}else switch(this.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(){1==this.screenType},e}(t.UiFileBase);t.UiFile=e,__reflect(e.prototype,"ui.UiFile")}(ui||(ui={}));var util;!function(t){var e=function(){function t(){this.uiFilePool={}}return t.prototype.create=function(t){if("string"==typeof t)return this.UiFileEmpty;var e=gDevelop.classToString(t);if(ui[e]){var i=this.getByClassName(e);return i||(i=new ui[e],i.className=e,this.uiFilePool[e]=i),i}return this.UiFileEmpty},t.prototype.get=function(t){var e=gDevelop.classToString(t);return ui[e]?this.uiFilePool[e]:void 0},t.prototype.getByClassName=function(t){return this.uiFilePool[t]},t.prototype.destroy=function(t){this.uiFilePool[t]=null},Object.defineProperty(t.prototype,"UiFileEmpty",{get:function(){return this.uiEmpty||(this.uiEmpty=new ui.UiEmpty),this.uiEmpty},enumerable:!0,configurable:!0}),t}();t.UiMgr=e,__reflect(e.prototype,"util.UiMgr")}(util||(util={}));var util;!function(t){var e=function(){function t(){this.newId=0}return Object.defineProperty(t.prototype,"id",{get:function(){return this.newId++,this.newId},enumerable:!0,configurable:!0}),t}();t.AutoId=e,__reflect(e.prototype,"util.AutoId")}(util||(util={}));var com;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){},e.prototype.start=function(){},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(t){if(1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType},e.prototype.show=function(){t.prototype.show.call(this)},e.prototype.hide=function(){t.prototype.hide.call(this)},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e)},e}(t.ComFileBase);t.ComFile=e,__reflect(e.prototype,"com.ComFile")}(com||(com={}));var util;!function(t){var e=function(){function t(){}return t.prototype.objIsNull=function(t){if(!t)return!0;for(var e in t){var i=t[e];if(void 0!=i)return!1}return!0},t.prototype.arrHasVal=function(t,e){if(t===e)return!0;if(t&&!(t.length<=0)){for(var i=0,o=t;i<o.length;i++){var a=o[i];if(a===e)return!0;if(a.length&&a.length>0&&e.length&&e.length){for(var r=!0,s=0;s<e.length;s++)if(!this.arrHasVal(a[s],e[s])){r=!1;break}if(r)return!0}}return!1}},t.prototype.arrDelVal=function(t,e){if(t&&!(t.length<=0))for(var i=0;i<t.length;i++){var o=t[i];if(o===e){t.splice(i,1);break}}},t.prototype.classToString=function(t){if(t){var e=t.prototype.__class__.split("."),i=e.length;if(e&&!(0>=i)){var o=e[i-1];return o}}},t}();t.DevelopMgr=e,__reflect(e.prototype,"util.DevelopMgr")}(util||(util={}));var util;!function(t){var e=function(){function t(){this.maxStep=2,this.delayTimer=500,this.pressT=100,this.liftT=200,this._stepId=1,this.GuideCfg={1:{id:1,target:["6_0","0_0","0_6"],moveTime:500,vertexTarget:["6_0","0_6"],items:["6_0","5_0","4_0","3_0","2_0","1_0","0_0","0_1","0_2","0_3","0_4","0_5","0_6"],finish:!1},2:{id:2,target:["1_0","1_1","0_1","0_0","1_0"],lineGuide:!0,isHeadAndTail:!0,moveTime:200,items:["1_0","1_1","0_1","0_0"],finish:!1}}}return t.prototype.init=function(){this.stepId=1,this.initGuide()},Object.defineProperty(t.prototype,"stepId",{get:function(){return this._stepId},set:function(t){this._stepId=t},enumerable:!0,configurable:!0}),t.prototype.initGuide=function(){for(var t in this.GuideCfg){var e=this.GuideCfg[t];e.finish&&(e.finish=!1)}},t.prototype.getGuideById=function(t){return void 0!=t?this.GuideCfg[t]:void 0},t.prototype.finishGuide=function(t){void 0===t&&(t=this.stepId);var e=this.getGuideById(t);e&&(e.finish=!0)},t.prototype.lastGuideFinish=function(){var t=this.getGuideById(this.maxStep);if(t)return t.finish},t.prototype.createHand=function(t,e){var i=new com.ComBones;return i.setData(t,"guide",e),i.create(),i},t}();t.GuideMgr=e,__reflect(e.prototype,"util.GuideMgr")}(util||(util={}));var util;!function(t){var e=function(){function t(){}return t.prototype.getRandom=function(t,e){return void 0===e&&(e=0),t==e?t:Math.random()*(t-e)+e},t.prototype.getRandomInteger=function(t,e){return void 0===e&&(e=0),Math.floor(this.getRandom(t,e))},t.prototype.getRandomAnswer=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t&&0!=t.length){var i=t.length,o=1==i?0:this.getRandomInteger(i);return t[o]}},t.prototype.getSquarePositive=function(t,e){if(void 0===e&&(e=2),0>e)return void console.warn("此接口一般不开放，如需要开负数次方，推荐使用：getSquare()");for(var i=t,o=0;e>o;o++)i*=t;return i/=t},t.prototype.getSquare=function(t,e){void 0===e&&(e=2);var i=t;return i=Math.pow(t,e)},t.prototype.keepDecimal=function(t,e){void 0===e&&(e=2),e=Math.max(0,e);var i=this.getSquare(10,e);return Math.round(t*i)/i},t.prototype.getDistance=function(t,e,i,o){var a;return a=egret.Point.distance({x:t,y:e},{x:i,y:o}),a=Math.floor(a)},t.prototype.switchNum=function(t,e,i){var o=t+"";if(void 0!=i){var a=i-o.length;if(a>0)for(var r=0;a>r;r++)o="0"+o}if(e){for(var s=o,n=/(\d+)(\d{3})/;n.test(s);)s=s.replace(n,"$1,$2");o=s}return o},t.prototype.getTimeBySpeed=function(t,e,i,o,a){return void 0===i&&(i=t),void 0===o&&(o=e),Math.ceil(1e3*gMath.getDistance(t,e,i,o)/a)},t.prototype.switchHour=function(t,e){void 0===e&&(e=!0);var i,o=e?23:11;return t>o&&(t%=o+1),i=10>t?"0"+t+":00":t+":00"},t.prototype.switchMinute=function(t){var e=this.keepDecimal(t/1e3,0),i=this.switchNum(Math.floor(e/60),!1,2),o=this.switchNum(e%60,!1,2);return i+":"+o},t.prototype.rotateToDir=function(t){return(t+270)*Math.PI/180},t.prototype.pointToRotate=function(t,e,i,o){var a=Math.atan2(o-e,i-t),r=a*(180/Math.PI);return r+90},t.prototype.pointListByDensity=function(t,e,i,o,a){void 0===a&&(a=1);var r,s;if(void 0!=t&&void 0!=e?(r=r||{},r.x=t,r.y=e):s=!0,void 0!=i&&void 0!=o?(r=r||{},r.x=i,r.y=o):s=!0,r){var n=[];if(s)n.push(r);else{var h=gMath.getDistance(t,e,i,o);a=Math.min(a,h);for(var c=h/a,l=1;c>=l;l++){var p=Math.round(t-(t-i)*l/c),d=Math.round(e-(e-o)*l/c);n.push({x:p,y:d})}var f=n[0];(f.x!=t||f.y!=e)&&n.unshift({x:t,y:e});var u=n[n.length-1];(u.x!=i||u.y!=o)&&n.push({x:i,y:o})}return n}},t}();t.MathMgr=e,__reflect(e.prototype,"util.MathMgr")}(util||(util={}));var util;!function(t){var e=function(){function t(){}return t.prototype.start=function(t){function e(t){y++,y==s&&i.removeChild(r)}var i=GameMgr.stage,o=GameMgr.stage.stageWidth,a=GameMgr.stage.stageHeight,r=new eui.Group;r.width=o,r.height=a,i.addChild(r);for(var s=40,n=5,h=s/n,c=0;s>c;c++){var l=o/n,p=a/h,d=c%n*l,f=Math.floor(c/n)*p,u=new egret.RenderTexture,g=(u.drawToTexture(i,new egret.Rectangle(d,f,l,p)),new egret.Bitmap);switch(g.texture=u,g.anchorOffsetX=l/2,g.anchorOffsetY=p/2,g.x=d+l/2,g.y=f+p/2,r.addChild(g),5==t&&(t=Math.ceil(4*Math.random())),t){case 1:gTween.tween(g,void 0,{props:{scaleX:0,scaleY:0,alpha:0,rotation:359},duration:800,ease:egret.Ease.circIn,call:{callback:e,thisObj:this}});break;case 2:var v=-o;c%2||(v=2*o),gTween.tween(g,void 0,{props:{x:v,alpha:0},duration:800,ease:egret.Ease.circIn,call:{callback:e,thisObj:this}});break;case 3:gTween.tween(g,void 0,{props:{scaleX:.2,scaleY:1,alpha:0,blurFliter:0},duration:800,ease:egret.Ease.backInOut,call:{callback:e,thisObj:this}});break;case 4:gTween.tween(g,void 0,{props:{alpha:0},duration:900,ease:egret.Ease.circIn,call:{callback:e,thisObj:this}});break;default:gTween.tween(g,void 0,{props:{scaleX:1,scaleY:0,alpha:0},duration:800,ease:egret.Ease.circIn,call:{callback:e,thisObj:this}})}}var y=0},t}();t.ScreenMovies=e,__reflect(e.prototype,"util.ScreenMovies")}(util||(util={}));var util;!function(t){var e=function(){function t(){}return t.prototype.init=function(){},t.prototype.changeBg=function(t){changeBgMusic&&changeBgMusic("resource/assets/sound/"+t+".mp3")},t.prototype.playEff=function(t,e){void 0===e&&(e=1),window.webIsActivate&&playSoundEff&&playSoundEff("resource/assets/sound/"+t+".mp3",e)},t.prototype.stopEff=function(t){stopSoundEff&&stopSoundEff("resource/assets/sound/"+t+".mp3")},t.prototype.stopAllSound=function(){stopAllSound&&stopAllSound()},t.prototype.recoveryAllSound=function(){recoveryAllSound&&recoveryAllSound()},t.prototype.destory=function(){destorySound&&destorySound()},t}();t.SoundMgr=e,__reflect(e.prototype,"util.SoundMgr")}(util||(util={}));var util;!function(t){var e=function(){function t(){}return t.prototype.toHeight=function(t,e,i,o,a,r,s){void 0===r&&(r={duration:0}),void 0!=o?t.height=o:o=t.height,this.tween(t,void 0,{props:{height:e},ease:a,wait:r,duration:i,call:s})},t.prototype.toAlpha=function(t,e,i,o,a,r,s){void 0===r&&(r={duration:0}),void 0!=o?t.alpha=o:o=t.alpha,this.tween(t,void 0,{props:{alpha:e},ease:a,wait:r,duration:i,call:s})},t.prototype.toScale=function(t,e,i,o,a,r,s){void 0===r&&(r={duration:0}),void 0!=o?t.scaleX=t.scaleY=o:o=t.scaleX,this.tween(t,void 0,{props:{scaleX:e,scaleY:e},ease:a,wait:r,duration:i,call:s})},t.prototype.toScaleX=function(t,e,i,o,a,r,s){void 0===r&&(r={duration:0}),void 0!=o?t.scaleX=o:o=t.scaleX,this.tween(t,void 0,{props:{scaleX:e},ease:a,wait:r,duration:i,call:s})},t.prototype.toScaleY=function(t,e,i,o,a,r,s){void 0===r&&(r={duration:0}),void 0!=o?t.scaleY=o:o=t.scaleY,this.tween(t,void 0,{props:{scaleY:e},ease:a,wait:r,duration:i,call:s})},t.prototype.toMove=function(t,e,i,o,a,r,s,n,h){void 0===n&&(n={duration:0}),void 0!=a&&(t.x=a),void 0!=r&&(t.y=r),s?void 0==s.y&&(s.y=s.x):s={x:void 0,y:void 0};var c,l;o&&(void 0==o.y?(o.y=o.x,c=h):o.x>o.y?c=h:l=h),this.rmTweens(t),egret.Tween.get(t).to({x:e},o.x,s.x).wait(n.duration,n.passive).call(function(){c&&c.callback&&(t=c.callback).call.apply(t,[c.thisObj].concat(c.params));var t}),egret.Tween.get(t).to({y:i},o.y,s.y).wait(n.duration,n.passive).call(function(){l&&l.callback&&(t=l.callback).call.apply(t,[l.thisObj].concat(l.params));var t})},t.prototype.toMoveBySpeed=function(t,e,i,o,a,r,s){void 0===e&&(e=t.x),void 0===i&&(i=t.y),void 0===o&&(o=500);for(var n=[],h=7;h<arguments.length;h++)n[h-7]=arguments[h];var c=gMath.getTimeBySpeed(t.x,t.y,e,i,o);return gTween.toMove(t,e,i,{x:c},void 0,void 0,a,void 0,{callback:function(){r&&r.call.apply(r,[s].concat(n))}}),c},t.prototype.toMoveX=function(t,e,i,o,a,r,s){void 0===r&&(r={duration:0}),void 0!=o&&(t.x=o),this.tween(t,void 0,{props:{x:e},ease:a,wait:r,duration:i,call:s})},t.prototype.toMoveY=function(t,e,i,o,a,r,s){void 0===r&&(r={duration:0}),void 0!=o&&(t.y=o),this.tween(t,void 0,{props:{y:e},ease:a,wait:r,duration:i,call:s})},t.prototype.toBottomShow=function(t,e,i,o,a,r,s,n){void 0===i&&(i=t.height),void 0===o&&(o=t.y),void 0===a&&(a=t.alpha),void 0===s&&(s={duration:0}),t.y-=i,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{y:o,alpha:a},ease:r,wait:s,duration:e,call:n})},t.prototype.toTopHide=function(t,e,i,o,a,r,s,n){void 0===i&&(i=t.height),void 0===o&&(o=t.y),void 0===a&&(a=t.alpha),void 0===s&&(s={duration:0}),this.tween(t,void 0,{props:{y:o-i,alpha:0},ease:r,wait:s,duration:e,call:{callback:function(){t.visible=!1,t.y=o,t.alpha=a,n&&n.callback&&(e=n.callback).call.apply(e,[n.thisObj].concat(n.params));var e},thisObj:this}})},t.prototype.toTopShow=function(t,e,i,o,a,r,s,n){void 0===i&&(i=t.height),void 0===o&&(o=t.y),void 0===a&&(a=t.alpha),void 0===s&&(s={duration:0}),t.y+=i,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{y:o,alpha:a},ease:r,wait:s,duration:e,call:n})},t.prototype.toBottomHide=function(t,e,i,o,a,r,s,n){void 0===i&&(i=t.height),void 0===o&&(o=t.y),void 0===a&&(a=t.alpha),void 0===s&&(s={duration:0}),this.tween(t,void 0,{props:{y:o+i,alpha:0},ease:r,wait:s,duration:e,call:{callback:function(){t.visible=!1,t.y=o,t.alpha=a,n&&n.callback&&(e=n.callback).call.apply(e,[n.thisObj].concat(n.params));var e},thisObj:this}})},t.prototype.toYShowPhy=function(t,e,i,o,a,r,s,n,h,c){void 0===o&&(o=t.height),void 0===a&&(a=t.y),void 0===r&&(r=t.alpha),void 0===s&&(s=egret.Ease.sineOut),void 0===n&&(n=egret.Ease.sineIn),void 0===h&&(h={duration:0}),t.y+=o,t.alpha=0,t.visible=!0,egret.Tween.get(t).to({y:a-e,alpha:r},Math.floor(i/2),s).to({y:a},Math.floor(i/4),n).to({y:a-Math.floor(e/6)},Math.floor(i/8),s).to({y:a},Math.floor(i/8),n).wait(h.duration,h.passive).call(function(){c&&c.callback&&(t=c.callback).call.apply(t,[c.thisObj].concat(c.params));var t},this)},t.prototype.toRightShow=function(t,e,i,o,a,r,s,n){void 0===i&&(i=t.width),void 0===o&&(o=t.x),void 0===a&&(a=t.alpha),void 0===s&&(s={duration:0}),t.x-=i,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{x:o,alpha:a},ease:r,wait:s,duration:e,call:n})},t.prototype.toLeftHide=function(t,e,i,o,a,r,s,n){void 0===i&&(i=t.width),void 0===o&&(o=t.x),void 0===a&&(a=t.alpha),void 0===s&&(s={duration:0}),this.tween(t,void 0,{props:{x:o-i,alpha:0},ease:r,wait:s,duration:e,call:{callback:function(){t.visible=!1,t.x=o,t.alpha=a,n&&n.callback&&(e=n.callback).call.apply(e,[n.thisObj].concat(n.params));var e},thisObj:this}})},t.prototype.toLeftShow=function(t,e,i,o,a,r,s,n){void 0===i&&(i=t.width),void 0===o&&(o=t.x),void 0===a&&(a=t.alpha),void 0===s&&(s={duration:0}),t.x+=i,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{x:o,alpha:a},ease:r,wait:s,duration:e,call:n})},t.prototype.toRightHide=function(t,e,i,o,a,r,s,n){void 0===i&&(i=t.width),void 0===o&&(o=t.x),void 0===a&&(a=t.alpha),void 0===s&&(s={duration:0}),this.tween(t,void 0,{props:{x:o+i,alpha:0},ease:r,wait:s,duration:e,call:{callback:function(){t.visible=!1,t.x=o,t.alpha=a,n&&n.callback&&(e=n.callback).call.apply(e,[n.thisObj].concat(n.params));var e},thisObj:this}})},t.prototype.toXShowPhy=function(t,e,i,o,a,r,s,n,h,c){void 0===o&&(o=t.width),void 0===a&&(a=t.x),void 0===r&&(r=t.alpha),void 0===s&&(s=egret.Ease.sineOut),void 0===n&&(n=egret.Ease.sineIn),void 0===h&&(h={duration:0}),t.x+=o,t.alpha=0,t.visible=!0,egret.Tween.get(t).to({x:a-e,alpha:r},Math.floor(i/2),s).to({x:a},Math.floor(i/4),n).to({x:a-Math.floor(e/6)},Math.floor(i/8),s).to({x:a},Math.floor(i/8),n).wait(h.duration,h.passive).call(function(){c&&c.callback&&(t=c.callback).call.apply(t,[c.thisObj].concat(c.params));
var t},this)},t.prototype.toBigShow=function(t,e,i,o,a,r,s){void 0===i&&(i=t.scaleX),void 0===o&&(o=t.alpha),void 0===r&&(r={duration:0}),t.scaleX=t.scaleY=0,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{scaleX:i,scaleY:i,alpha:o},ease:a,wait:r,duration:e,call:s})},t.prototype.showBubble=function(t,e,i,o,a,r,s){var n=this;void 0===e&&(e=500),void 0===s&&(s={isFloat:!0}),i||(i={}),i.orgS=void 0!=i.orgS?i.orgS:t.scaleX,i.orgA=void 0!=i.orgA?i.orgA:t.alpha,i.ease=void 0!=i.ease?i.ease:egret.Ease.bounceOut,gTween.toBigShow(t,e,i.orgS,i.orgA,i.ease,i.wait,{callback:function(){s&&void 0===s.isFloat&&(s.isFloat=!0),s.isFloat&&n.floatBubble(t,s.targetY,s.duration,s.orgY,s.ease),o&&o.call(a,r)}})},t.prototype.toSmallHide=function(t,e,i,o,a,r,s){void 0===o&&(o=t.alpha),void 0===r&&(r={duration:0}),void 0!=i?t.scaleX=t.scaleY=i:i=t.scaleX,this.tween(t,void 0,{props:{scaleX:0,scaleY:0,alpha:0},ease:a,wait:r,duration:e,call:{callback:function(){t.visible=!1,t.scaleX=t.scaleY=i,t.alpha=o,s&&s.callback&&(e=s.callback).call.apply(e,[s.thisObj].concat(s.params));var e},thisObj:this}})},t.prototype.hideBubble=function(t,e,i,o,a,r){void 0===e&&(e=300),i||(i={}),i.orgS=void 0!=i.orgS?i.orgS:t.scaleX,i.orgA=void 0!=i.orgA?i.orgA:t.alpha,gTween.toSmallHide(t,e,i.orgS,i.orgA,i.ease,i.wait,{callback:o,thisObj:a,params:r})},t.prototype.toSmallShow=function(t,e,i,o,a,r,s,n){void 0===a&&(a=t.alpha),void 0===s&&(s={duration:0}),void 0!=o?t.scaleX=t.scaleY=o:o=t.scaleX,t.scaleX=t.scaleY*=e,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{scaleX:o,scaleY:o,alpha:a},ease:r,wait:s,duration:i,call:n})},t.prototype.toBigHide=function(t,e,i,o,a,r,s,n){void 0===a&&(a=t.alpha),void 0===s&&(s={duration:0}),void 0!=o?t.scaleX=t.scaleY=o:o=t.scaleX,this.tween(t,void 0,{props:{scaleX:t.scaleX*e,scaleY:t.scaleX*e,alpha:0},ease:r,wait:s,duration:i,call:{callback:function(){t.visible=!1,t.scaleX=t.scaleY=o,t.alpha=a,n&&n.callback&&(e=n.callback).call.apply(e,[n.thisObj].concat(n.params));var e},thisObj:this}})},t.prototype.toWidthAddShow=function(t,e,i,o,a,r,s){void 0===i&&(i=t.width),void 0===o&&(o=t.alpha),void 0===r&&(r={duration:0}),t.width=0,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{width:i,alpha:o},ease:a,wait:r,duration:e,call:s})},t.prototype.toWidthCutHide=function(t,e,i,o,a,r,s){void 0===i&&(i=t.width),void 0===o&&(o=t.alpha),void 0===r&&(r={duration:0}),this.tween(t,void 0,{props:{width:0,alpha:0},ease:a,wait:r,duration:e,call:{callback:function(){t.visible=!1,t.width=i,t.alpha=o,s&&s.callback&&(e=s.callback).call.apply(e,[s.thisObj].concat(s.params));var e},thisObj:this}})},t.prototype.toHeightAddShow=function(t,e,i,o,a,r,s){void 0===i&&(i=t.height),void 0===o&&(o=t.alpha),void 0===r&&(r={duration:0}),t.height=0,t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{height:i,alpha:o},ease:a,wait:r,duration:e,call:s})},t.prototype.toHeightCutHide=function(t,e,i,o,a,r,s){void 0===i&&(i=t.height),void 0===o&&(o=t.alpha),void 0===r&&(r={duration:0}),this.tween(t,void 0,{props:{height:0,alpha:0},ease:a,wait:r,duration:e,call:{callback:function(){t.visible=!1,t.height=i,t.alpha=o,s&&s.callback&&(e=s.callback).call.apply(e,[s.thisObj].concat(s.params));var e},thisObj:this}})},t.prototype.toWidthChange=function(t,e,i,o,a,r,s){void 0===r&&(r={duration:0}),void 0!=o&&(t.width=o),o=t.width,t.visible=!0,this.tween(t,void 0,{props:{width:o+i},ease:a,wait:r,duration:e,call:{callback:function(){t.width<=0&&(t.width=0,t.visible=!1),s&&s.callback&&(e=s.callback).call.apply(e,[s.thisObj].concat(s.params));var e},thisObj:this}})},t.prototype.fadeIn=function(t,e,i,o,a,r){void 0===i&&(i=t.alpha),void 0===a&&(a={duration:0}),t.alpha=0,t.visible=!0,this.tween(t,void 0,{props:{alpha:i},ease:o,wait:a,duration:e,call:r})},t.prototype.fadeOut=function(t,e,i,o,a,r){void 0===i&&(i=t.alpha),this.tween(t,void 0,{props:{alpha:0},ease:o,wait:a,duration:e,call:{callback:function(){t.visible=!1,t.alpha=i,r&&r.callback&&(e=r.callback).call.apply(e,[r.thisObj].concat(r.params));var e},thisObj:this}})},t.prototype.loopFloat=function(t,e,i,o,a){void 0===e&&(e=-20),void 0===i&&(i=500),void 0!=o?t.y=o:o=t.y,this.tween(t,{loop:!0},{props:{y:o+e},duration:i,ease:a},{props:{y:o},duration:i,ease:a})},t.prototype.floatBubble=function(t,e,i,o,a){void 0===e&&(e=-20),void 0===i&&(i=500),void 0===o&&(o=t.y),gTween.loopFloat(t,e,i,o,a)},t.prototype.loopScale=function(t,e,i,o,a){void 0===e&&(e=.85),void 0===i&&(i=500),void 0!=o?t.scaleX=t.scaleY=o:o=t.scaleX,this.tween(t,{loop:!0},{props:{scaleX:o*e,scaleY:o*e},duration:i,ease:a},{props:{scaleX:o,scaleY:o},duration:i,ease:a})},t.prototype.loopScaleX=function(t,e,i,o,a){void 0===e&&(e=.85),void 0===i&&(i=500),void 0!=o?t.scaleX=o:o=t.scaleX,this.tween(t,{loop:!0},{props:{scaleX:o*e},duration:i,ease:a},{props:{scaleX:o},duration:i,ease:a})},t.prototype.loopScaleY=function(t,e,i,o,a){void 0===e&&(e=.85),void 0===i&&(i=500),void 0!=o?t.scaleY=o:o=t.scaleY,this.tween(t,{loop:!0},{props:{scaleY:o*e},duration:i,ease:a},{props:{scaleY:o},duration:i,ease:a})},t.prototype.yoyoBtn=function(t,e,i,o){if(void 0===e&&(e=!0),void 0===i&&(i=1),!e||!(gConst.notEffectModel||window.MW_CONFIG&&"google"==MW_CONFIG.channel))switch(o||(o={}),o.orgS||(o.orgS={}),void 0==o.orgS.x?o.orgS.x=t.scaleX:t.scaleX=o.orgS.x,void 0==o.orgS.y?o.orgS.y=t.scaleY:t.scaleY=o.orgS.y,o.targetS||(o.targetS={}),o.diffS||(o.diffS={}),o.ease||(o.ease={}),i){case 2:gTween.drawing(t,o.targetS,o.duration,o.diffS,o.times,o.ease,o.wait);break;case 3:gTween.swing(t,o.diffR,o.duration,o.orgR,o.times,o.ease["in"],o.wait);break;default:gTween.loopScale(t,o.targetS.x,o.duration,o.orgS.x,o.ease["in"])}},t.prototype.loopAlpha=function(t,e,i,o,a){void 0===e&&(e=0),void 0===i&&(i=500),void 0!=o&&(t.alpha=o),o=t.alpha,this.tween(t,{loop:!0},{props:{alpha:o*e},duration:i,ease:a},{props:{alpha:o},duration:i,ease:a})},t.prototype.loopRotate=function(t,e,i,o,a){void 0===e&&(e=1),void 0===i&&(i=3600),void 0!=o&&(t.rotation=o),o=t.rotation,this.tween(t,{loop:!0},{props:{rotation:o+360*e},duration:i,ease:a})},t.prototype.swing=function(t,e,i,o,a,r,s,n){var h=this;void 0===e&&(e=5),void 0===i&&(i=150),void 0===s&&(s={duration:800}),void 0!=o?t.rotation=o:o=t.rotation;var c=function(l){if(!l&&0>=a)return void(n&&n.callback&&(p=n.callback).call.apply(p,[n.thisObj].concat(n.params)));egret.Tween.get(t,{loop:l}).to({rotation:o+e},i/2,r).to({rotation:o-2*e},i,r).to({rotation:o},i/2,r).to({rotation:o+e},i/2,r).to({rotation:o-2*e},i,r).to({rotation:o},i/2,r).wait(s.duration,s.passive).call(function(){l||(a--,c.call(h))});var p};!a||0>=a?c.call(this,!0):c.call(this)},t.prototype.drawing=function(t,e,i,o,a,r,s,n){var h=this;void 0===i&&(i=800),void 0===o&&(o={}),void 0===s&&(s={duration:0}),e||(e={}),void 0==e.x&&(e.x=.1),void 0==e.y&&(e.y=e.x),o||(o={}),void 0==o.x?o.x=t.scaleX:t.scaleX=o.x,void 0==o.y?o.y=t.scaleY:t.scaleY=o.y,r||(r={}),void 0==r["in"]&&(r["in"]=egret.Ease.quadOut),void 0==r.out&&(r.out=egret.Ease.quadIn);var c=function(l){if(!l&&0>=a)return void(n&&n.callback&&(p=n.callback).call.apply(p,[n.thisObj].concat(n.params)));egret.Tween.get(t,{loop:l}).to({scaleX:o.x+e.x},i/4,r["in"]).to({scaleX:o.x},i/4,r.out).to({scaleX:o.x-e.x},i/4,r["in"]).to({scaleX:o.x},i/4,r.out),egret.Tween.get(t,{loop:l}).to({scaleY:o.y-e.y},i/4,r["in"]).to({scaleY:o.y},i/4,r.out).to({scaleY:o.y+e.y},i/4,r["in"]).to({scaleY:o.y},i/4,r.out).wait(s.duration,s.passive).call(function(){l||(a--,c.call(h))});var p};!a||0>=a?c.call(this,!0):c.call(this)},t.prototype.tween=function(t,e){var i=this;void 0===e&&(e={});for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];this.rmTweens(t);var r=egret.Tween.get(t,e,e.pluginData,e.override);if(!o||o.length<=0)return this.rmTweens(t),r;var s=0,n=function(){var t=o[s];t.wait?r.to(t.props,t.duration,t.ease).wait(t.wait.duration,t.wait.passive).call(function(){if(t.call&&t.call.callback&&(e=t.call.callback).call.apply(e,[t.call.thisObj].concat(t.call.params)),s++,s>=o.length)return r;n();var e},i):r.to(t.props,t.duration,t.ease).call(function(){if(t.call&&t.call.callback&&(e=t.call.callback).call.apply(e,[t.call.thisObj].concat(t.call.params)),s++,s>=o.length)return r;n();var e},i)};n()},t.prototype.rmTweens=function(t){t&&egret.Tween.removeTweens(t)},t}();t.TweenMgr=e,__reflect(e.prototype,"util.TweenMgr")}(util||(util={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.loadingAngle=0,e.skinName=skins.ComProgress,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){var t=this.bar,e=this.conBar,i=this.con;gComMgr.setObjSize(t,!0),gComMgr.setObjSize(e,!0),gComMgr.setObjSize(i,!0),this.initGraphics()},e.prototype.start=function(){},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(t){var e=gConst.mobileByScale[GameMgr.screenType][GameMgr.mobileType];if(this.scaleX=this.scaleY=e,1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType},e.prototype.initGraphics=function(){var t=this.bar;gComMgr.setObjSize(t);var e=this._shape=new egret.Shape;e.x=t.x+t.width/2,e.y=t.y+t.height/2,t.parent.addChildAt(e,t.parent.getChildIndex(t)),this.bar.mask=e},e.prototype.startLoading=function(){if(!this.barLoading){this.barLoading=!0;this._shape;this.resetLoading()}},e.prototype.stopLoading=function(){this.barLoading&&(this.barLoading=!1,this.loadingTime&&(this.loadingTime.removeEventListener(egret.TimerEvent.TIMER,this.drawStart,this),this.loadingTime.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.drawComplete,this),this.loadingTime.stop()),this.loadingAngle=0,this.changeGraphics(this.loadingAngle))},e.prototype.resetLoading=function(){var t=1,e=360,i=1e3,o=18,a=i/o/t,r=e/a;this.chgAngle=r,this.loadingTime&&(this.loadingTime.removeEventListener(egret.TimerEvent.TIMER,this.drawStart,this),this.loadingTime.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.drawComplete,this),this.loadingTime.stop(),this.loadingTime=null),this.loadingTime?(this.loadingTime.delay=o,this.loadingTime.repeatCount=a+1):(this.loadingTime=new egret.Timer(o,a+1),this.loadingTime.removeEventListener(egret.TimerEvent.TIMER,this.drawStart,this),this.loadingTime.addEventListener(egret.TimerEvent.TIMER,this.drawStart,this),this.loadingTime.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.drawComplete,this),this.loadingTime.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.drawComplete,this)),this.loadingAngle=0,this.changeGraphics(this.loadingAngle),this.loadingTime.start()},e.prototype.drawStart=function(t){this.changeGraphics(this.loadingAngle),this.loadingAngle+=this.chgAngle,this.loadingAngle>360&&(this.loadingAngle=this.loadingAngle%360)},e.prototype.drawComplete=function(t){this.loadingTime.removeEventListener(egret.TimerEvent.TIMER,this.drawStart,this),this.loadingTime.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.drawComplete,this),this.loadingTime.stop(),this.barLoading=!1,this.dispatchEventWith(egret.Event.COMPLETE)},e.prototype.fastComlete=function(){this.loadingTime&&(this.loadingTime.removeEventListener(egret.TimerEvent.TIMER,this.drawStart,this),this.loadingTime.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.drawComplete,this),this.loadingTime.stop(),this.loadingTime=null)},e.prototype.changeGraphics=function(t){var e=this._shape;e.graphics.clear(),e.graphics.beginFill(65535,1),e.graphics.moveTo(0,0),e.graphics.lineTo(50,0),e.graphics.drawArc(0,0,50,0,t*Math.PI/180,!1),e.graphics.lineTo(0,0),e.graphics.endFill()},e}(t.ComFile);t.ComProgress=e,__reflect(e.prototype,"com.ComProgress")}(com||(com={}));var gConst;!function(t){t.eventType={GAME_READY:"gameReady",GAME_START:"gameStart",GAME_RETRY:"gameRetry",GAME_END:"gameEnd",GAME_CLOSE:"gameClose",INSTALL:"install",RESIZE_VIEW:"resizeView",ROTATE_VIEW:"rotateView",GUIDE_TOUCH_ONE:"guideTouchOne",GUIDE_STOP:"guideStop",IN_COMPLETE:"inComplete",IN_LOOP_COMPLETE:"inLoopComplete",OUT_COMPLETE:"outComplete",OUT_LOOP_COMPLETE:"outLoopComplete",CHOOSE_COMPLETE:"chooseComplete",CHOOSE_LOOP_COMPLETE:"chooseLoopComplete",ONE_STEP_COMPLETE:"oneStepComplete",ONE_STEP_FAIL:"oneStepFail",ONCE_COMPLETE:"onceComplete",ONCE_FAIL:"onceFail",ALL_COMPLETE:"allComplete",ALL_FAIL:"allFail",USE_UP:"useUp",TOUCH_TAP:"touchTap",TOUCH_BEGIN:"touchBegin",TOUCH_MOVE:"touchMove",TOUCH_END:"touchEnd",RIGHT_ANSWER:"rightAnswer",SHOW_GUIDE:"showGuide",HIDE_GUIDE:"hideGuide",OPEN_TRAN:"openTran",CLOSE_TRAN:"closeTran",OPEN_END:"openEnd",CLOSE_END:"closeEnd",OPEN_PEOPLE:"openPeople",CLOSE_PEOPLE:"closePeople",SHOW_BLACK:"showBlack",HIDE_BLACK:"hideBlack",SHOW_SCENE0:"showScene0",HIDE_SCENE0:"hideScene0",SHOW_SCENE1:"showScene1",HIDE_SCENE1:"hideScene1",SHOW_SCENE2:"showScene2",HIDE_SCENE2:"hideScene2",CLOSE:"close",REMOVE_OBJ:"removeObj",CLICK_OBJ:"clickObj",SHOW_CURTAIN_FULL:"showCurtainFull",SHOW_CAR_START:"showCarStart",FEED_COMPLETE:"feedComplete",BAR_COVER_IN_GIRL:"barCoverInGirl",SHOW_ITEMS:"showItems",ADD_PATTERN:"addPattern",UPDATE_GOLD:"updateGold",LV_TO_MAX:"lvToMax",START_PARTILCLE:"startPartilcle",START_PLAY_KEY:"startPlayKey",MOVE_KEY:"moveKey"},t.direction={CENTER_CENTER:"centerCenter",LEFT_TOP:"leftTop",CENTER_TOP:"centerTop",RIGHT_TOP:"rightTop",RIGHT_CENTER:"rightCenter",RIGHT_BOTTOM:"rightBottom",CENTER_BOTTOM:"centerBottom",LEFT_BOTTOM:"leftBottom",LEFT_CENTER:"leftCenter"},t.mobileByScale=(e={},e[1]=(i={},i[1]=1,i[2]=1,i[3]=.8,i),e[0]=(o={},o[1]=1,o[2]=1,o[3]=.8,o),e),t.cellSkin=(a={},a[1]="Red",a[2]="Yellow",a[3]="Green",a[4]="Blue",a),t.cellName=(r={},r[1]="red",r[2]="yellow",r[3]="green",r[4]="blue",r),t.cellColor=(s={},s[1]=16732252,s[2]=16764516,s[3]=6540929,s[4]=7244989,s);var e,i,o,a,r,s}(gConst||(gConst={}));var data;!function(t){var e=function(){function t(){this.init()}return t.prototype.init=function(){this.horizontal={x:0,y:0},this.vertical={x:0,y:0},this.topSpace=.01,this.rightSpace=25,this.bottomSpace=.001,this.leftSpace=.01,this.horRatio=20,this.verRatio=null,this.horSpace=null,this.verSpace=null,this.center=null,this.centerOffset=null,this.scale=1},t}();t.FirstData=e,__reflect(e.prototype,"data.FirstData")}(data||(data={}));var data;!function(t){var e=function(){function t(){}return t.prototype.setData=function(t){this.updateData(t,!1),this.speedMax=void 0!=this.speedMax?this.speedMax:10,this.rotateMax=void 0!=this.rotateMax?this.rotateMax:0,this.rotateDiff=void 0!=this.rotateDiff?this.rotateDiff:.1,this.alphaMax=void 0!=this.alphaMax?this.alphaMax:1,this.alphaDiff=void 0!=this.alphaDiff?this.alphaDiff:.01,this.scaleMax=void 0!=this.scaleMax?this.scaleMax:1,this.scaleDiff=void 0!=this.scaleDiff?this.scaleDiff:.005,this.initDefault()},t.prototype.updateData=function(t,e){void 0===e&&(e=!0),t&&(void 0!=t.floatAnswers&&(this.floatAnswers=t.floatAnswers),void 0!=t.dires&&(this.dires=t.dires),void 0!=t.speedMax&&(this.speedMax=t.speedMax),void 0!=t.speedMin&&(this.speedMin=t.speedMin),void 0!=t.rotateMax&&(this.rotateMax=t.rotateMax),void 0!=t.rotateMin&&(this.rotateMin=t.rotateMin),void 0!=t.rotateDiff&&(this.rotateDiff=t.rotateDiff),void 0!=t.alphaMax&&(this.alphaMax=t.alphaMax),void 0!=t.alphaMin&&(this.alphaMin=t.alphaMin),void 0!=t.alphaDiff&&(this.alphaDiff=t.alphaDiff),void 0!=t.scaleMax&&(this.scaleMax=t.scaleMax),void 0!=t.scaleMin&&(this.scaleMin=t.scaleMin),void 0!=t.scaleDiff&&(this.scaleDiff=t.scaleDiff),void 0!=t.isAllAlpha&&(this.isAllAlpha=t.isAllAlpha),void 0!=t.isAdaptiveScale&&(this.isAdaptiveScale=t.isAdaptiveScale),void 0!=t.floatMaxCnt&&(this.floatMaxCnt=t.floatMaxCnt)),e&&this.initDefault()},t.prototype.initDefault=function(){this.speedMin=void 0!=this.speedMin?this.speedMin:this.speedMax,this.rotateMin=void 0!=this.rotateMin?this.rotateMin:this.rotateMax,this.alphaMin=void 0!=this.alphaMin?this.alphaMin:this.alphaMax,this.scaleMin=void 0!=this.scaleMin?this.scaleMin:this.scaleMax},t}();t.FloatData=e,__reflect(e.prototype,"data.FloatData")}(data||(data={}));var data;!function(t){var e=function(){function t(t,e,i,o){void 0===o&&(o={}),this.fName="1",this.direct=1,this.fName=t,this.frameCnt=e,this.frameName=i,this.backplay=o.backplay||!1,this.firstIndex=o.firstIndex||1,this.order=o.order,this.minBit=o.minBit}return t}();t.McData=e,__reflect(e.prototype,"data.McData")}(data||(data={}));var gUiMgr=new util.UiMgr,gAutoId=new util.AutoId,gComMgr=new util.ComMgr,gGuideMgr=new util.GuideMgr,gSoundMgr=new util.SoundMgr,gTween=new util.TweenMgr,gMath=new util.MathMgr,gScreenMovies=new util.ScreenMovies,gDevelop=new util.DevelopMgr,item;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.init(),e}return __extends(e,t),e.prototype.init=function(){this.initScaleX=this.scaleX,this.initScaleY=this.scaleY},e.prototype.id=function(t){return void 0==t?this._id:void(this._id=t)},e.prototype.passId=function(t){return void 0==t?this._passId:void(this._passId=t)},e.prototype.itemId=function(t){return void 0==t?this._itemId:void(this._itemId=t)},e.prototype.relateId=function(t){return void 0==t?this._relateId:void(this._relateId=t)},e.prototype.finish=function(t){return void 0==t?this._finish:void(this._finish=t)},e.prototype.guideDir=function(t){return void 0==t?this._guideDir:void(this._guideDir=t)},e.prototype.level=function(t){return void 0==t?this._level:void(this._level=t)},e.prototype.triggered=function(t){return void 0==t?this._triggered:void(this._triggered=t)},e}(eui.Group);t.ItemGroupBase=e,__reflect(e.prototype,"item.ItemGroupBase")}(item||(item={}));var item;!function(t){var e=function(t){function e(e){var i=t.call(this,e)||this;return i.init(),i}return __extends(e,t),e.prototype.init=function(){this.initScaleX=this.scaleX,this.initScaleY=this.scaleY,this.triggered(!1)},e.prototype.id=function(t){return void 0==t?this._id:void(this._id=t)},e.prototype.passId=function(t){return void 0==t?this._passId:void(this._passId=t)},e.prototype.itemId=function(t){return void 0==t?this._itemId:void(this._itemId=t)},e.prototype.relateId=function(t){return void 0==t?this._relateId:void(this._relateId=t)},e.prototype.finish=function(t){return void 0==t?this._finish:void(this._finish=t)},e.prototype.guideDir=function(t){return void 0==t?this._guideDir:void(this._guideDir=t)},e.prototype.level=function(t){return void 0==t?this._level:void(this._level=t)},e.prototype.triggered=function(t){return void 0==t?this._triggered:void(this._triggered=t)},e}(eui.Image);t.ItemImgBase=e,__reflect(e.prototype,"item.ItemImgBase")}(item||(item={}));var LoadingUI=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},e.prototype.setProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI");var Main=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.canshow=!1,e.isThemeLoadEnd=!1,e.isResourceLoadEnd=!1,e}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),window.app=GameMgr.main=this,this.createGame()},e.prototype.showGame=function(){this.showGameed||(this.showGameed=!0,this.canshow=!0,this.isThemeLoadEnd&&this.isResourceLoadEnd&&this.canshow&&this.startCreateScene())},e.prototype.createGame=function(){gSoundMgr.init();var t=new AssetAdapter;egret.registerImplementation("eui.IAssetAdapter",t),egret.registerImplementation("eui.IThemeAdapter",new ThemeAdapter),RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/"),GameMgr.stage=this.stage;var e=egret.getOption("lan");e&&(GameMgr.lan=e)},e.prototype.onConfigComplete=function(t){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this);var e=new eui.Theme("resource/default.thm.json",this.stage);e.addEventListener(eui.UIEvent.COMPLETE,this.onThemeLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this),RES.loadGroup("preload")},e.prototype.onThemeLoadComplete=function(){this.isThemeLoadEnd=!0,this.createScene()},e.prototype.onResourceLoadComplete=function(t){"preload"==t.groupName&&(this.isResourceLoadEnd=!0,this.createScene(),RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.removeEventListener(RES.ResourceEvent.GROUP_LOAD_ERROR,this.onResourceLoadError,this),RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,this.onItemLoadError,this))},e.prototype.createScene=function(){this.isThemeLoadEnd&&this.isResourceLoadEnd&&(Mapi.gameReady(),this.canshow&&this.startCreateScene())},e.prototype.onItemLoadError=function(t){console.warn("Url:"+t.resItem.url+" has failed to load")},e.prototype.onResourceLoadError=function(t){console.warn("Group:"+t.groupName+" has failed to load"),this.onResourceLoadComplete(t)},e.prototype.startCreateScene=function(){this.gameScene||(GameMgr.init(),GameMgr.gameScene=this.gameScene=new scene.GameScene,this.gameScene.open())},e}(eui.UILayer);__reflect(Main.prototype,"Main");var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.ComEmpty,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){},e.prototype.start=function(){},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(t){if(1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType},e}(t.ComFile);t.ComEmpty=e,__reflect(e.prototype,"com.ComEmpty")}(com||(com={}));var Mapi=function(){function t(){}return t.sendAction=function(t,e){void 0===e&&(e=!0),void 0==e&&(e=!0),e&&this.actionedLog[t]||(this.actionedLog[t]=!0,sendAction(t))},t.gameReady=function(){this.gameReadyed||(this.gameReadyed=!0,ready())},t.install=function(){gameInstall()},t.gameEnd=function(){this.gameEnded||(this.gameEnded=!0,end())},t.gameRetry=function(){this.gameEnded=!1,retry()},t}();Mapi.actionedLog={},__reflect(Mapi.prototype,"Mapi");var AssetAdapter=function(){function t(){}return t.prototype.getAsset=function(t,e,i){function o(o){e.call(i,o,t)}if(RES.hasRes(t)){var a=RES.getRes(t);a?o(a):RES.getResAsync(t,o,this)}else RES.getResByUrl(t,o,this,RES.ResourceItem.TYPE_IMAGE)},t}();__reflect(AssetAdapter.prototype,"AssetAdapter",["eui.IAssetAdapter"]);var scene;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.GameScene,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){},e.prototype.start=function(){this.openFirst()},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(){this.dispatchEventWith(gConst.eventType.RESIZE_VIEW);gConst.mobileByScale[GameMgr.screenType][GameMgr.mobileType];if(1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(){this.dispatchEventWith(gConst.eventType.ROTATE_VIEW),1==GameMgr.screenType},e}(t.GameBase);t.GameScene=e,__reflect(e.prototype,"scene.GameScene")}(scene||(scene={}));var ThemeAdapter=function(){function t(){}return t.prototype.getTheme=function(t,e,i,o){function a(t){e.call(o,t)}function r(e){e.resItem.url==t&&(RES.removeEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),i.call(o))}RES.addEventListener(RES.ResourceEvent.ITEM_LOAD_ERROR,r,null),RES.getResByUrl(t,a,this,RES.ResourceItem.TYPE_TEXT)},t}();__reflect(ThemeAdapter.prototype,"ThemeAdapter",["eui.IThemeAdapter"]);var ui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.UiEmpty,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){},e.prototype.start=function(){},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(){if(1==this.screenType)switch(this.mobileType){case 1:break;case 2:break;case 3:}else switch(this.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(){1==this.screenType},e}(t.UiFile);t.UiEmpty=e,__reflect(e.prototype,"ui.UiEmpty")}(ui||(ui={}));var com;!function(t){var e=function(){function t(){}return t.prototype.setData=function(t,e,i,o,a){void 0===o&&(o="Armature"),this.parent=t,this.resName=e,i&&(this.exitAim={},"boolean"==typeof i&&(i={}),this.exitAim.aimType=void 0!=i.aimType?i.aimType:0,this.exitAim.wait=void 0!=i.wait?i.wait:0,this.exitAim.time=void 0!=i.time?i.time:300),this.armatureName=o,this.dragonBonesName=a},t.prototype.play=function(t,e,i){return void 0===t&&(t="Armature"),void 0===e&&(e=1),this.isComRemve=i,this.init()?(this.armatureDisplay.removeEvent(dragonBones.EgretEvent.COMPLETE,this.playComplete,this),this.armatureDisplay.addEvent(dragonBones.EgretEvent.COMPLETE,this.playComplete,this),this.armatureDisplay.animation.play(t,e)):void 0},t.prototype.stop=function(t){this.init()&&this.armatureDisplay.animation.stop(t)},t.prototype.gotoAndStop=function(t,e){this.init()&&this.armatureDisplay.animation.gotoAndStop(t,e)},t.prototype.gotoAndStopByTime=function(t,e){return this.init()?this.armatureDisplay.animation.gotoAndStopByTime(t,e):void 0},t.prototype.setScale=function(t,e){if(void 0!=t){if(t=t||0,e=e||t,!this.armatureDisplay)return void(this.waitScale={x:t,y:e});this.armatureDisplay.scaleX=t,this.armatureDisplay.scaleY=e,this.waitScale=null}},t.prototype.setPos=function(t){t&&(t.x=t.x||0,t.y=t.y||0,this.waitPos={x:t.x,y:t.y},this.armatureDisplay&&(this.armatureDisplay.x=t.x,this.armatureDisplay.y=t.y))},t.prototype.setInitPos=function(t){t&&(t.x=t.x||0,t.y=t.y||0,this.initPos={x:t.x,y:t.y})},t.prototype.setDiffPos=function(t){t&&(t.hor.x=t.hor.x||0,t.hor.y=t.hor.y||0,t.ver.x=t.ver.x||0,t.ver.y=t.ver.y||0,this.diffPos=t)},t.prototype.setIndex=function(t){return void 0!=t?(t=t||0,this.parent&&this.armatureDisplay?void this.parent.setChildIndex(this.armatureDisplay,t):void(this.waitIndex=t)):void 0},t.prototype.setMask=function(t){this.armatureDisplay&&(this.armatureDisplay.mask=t)},t.prototype.setAlpha=function(t){if(void 0!=t){if(!this.parent||!this.armatureDisplay)return void(this.orgAlpha=t);this.orgAlpha=t,this.armatureDisplay.alpha=t}},t.prototype.show=function(){this.armatureDisplay&&(this.armatureDisplay.visible=!0)},t.prototype.hide=function(){this.armatureDisplay&&(this.armatureDisplay.visible=!1)},t.prototype.playComplete=function(){this.armatureDisplay.removeEvent(dragonBones.EgretEvent.COMPLETE,this.playComplete,this),this.exitAim?this.playOutAim():(this.armatureDisplay.dispatchEventWith(egret.Event.COMPLETE),this.isComRemve&&this.remove())},t.prototype.playOutAim=function(){var t,e=this;switch(this.exitAim.aimType){case 0:t={alpha:0};break;case 1:t={scaleX:5,scaleY:5,alpha:0};break;case 2:t={scaleX:0,scaleY:0,alpha:0}}egret.setTimeout(function(){gTween.tween(e.armatureDisplay,void 0,{props:t,duration:e.exitAim.time,call:{callback:function(){e.armatureDisplay.dispatchEventWith(egret.Event.COMPLETE),e.isComRemve&&e.remove()},thisObj:e}})},this,this.exitAim.wait)},t.prototype.remove=function(){gComMgr.rmObj(this.armatureDisplay)},t.prototype.create=function(){if(this.resName){var t=RES.getRes(this.resName+"_ske_json"),e=RES.getRes(this.resName+"_tex_json"),i=RES.getRes(this.resName+"_tex_png");this.factory=new dragonBones.EgretFactory,this.factory.autoSearch=!0,this.factory.addDragonBonesData(this.factory.parseDragonBonesData(t)),this.factory.addTextureAtlasData(this.factory.parseTextureAtlasData(e,i)),this.armature=this.factory.buildArmature(this.armatureName),this.armatureDisplay=this.factory.buildArmatureDisplay(this.armatureName)}},t.prototype.init=function(){return(this.armatureDisplay||(this.create(),this.armatureDisplay))&&this.parent?(this.parent.addChild(this.armatureDisplay),this.waitScale&&this.setScale(this.waitScale.x,this.waitScale.y),this.waitPos?this.setPos(this.waitPos):this.setPos({x:this.parent.width/2,y:this.parent.height/2}),this.setIndex(this.waitIndex),this.setAlpha(this.orgAlpha||this.armatureDisplay.alpha),this.show(),!0):void 0},t.prototype.replaceDisplay=function(t,e,i,o,a,r,s){this.factory.parseDragonBonesData(RES.getRes(t+"_ske_json")),this.factory.parseTextureAtlasData(RES.getRes(t+"_tex_json"),RES.getRes(t+"_tex_png"));var n=this.armatureDisplay.armature.getSlot(r);this.factory.replaceSlotDisplay(e,i,o,a,n,s)},t.prototype.dispose=function(){var t=this.armature;dragonBones.WorldClock.clock.remove(t),this.remove(),t.dispose()},t.prototype.guideDir=function(t){return void 0==t?this._guideDir:void(this._guideDir=t)},t.prototype.screenType=function(t){return void 0==t?this._screenType:void(this._screenType=t)},t.prototype.getWidth=function(){return this.armatureDisplay?this.armatureDisplay.width:void 0},t.prototype.getHeight=function(){return this.armatureDisplay?this.armatureDisplay.height:void 0},t}();t.ComBones=e,__reflect(e.prototype,"com.ComBones")}(com||(com={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.blendMode=egret.BlendMode.ERASE,e.cirleLight=new egret.Shape,e.cirleLight.blendMode=egret.BlendMode.ERASE,e.addChild(e.cirleLight),e}return __extends(e,t),e.prototype.show=function(){this.visible=!0},e.prototype.hide=function(){this.visible=!1},e.prototype.setLightSize=function(t,e,i,o,a){void 0===e&&(e=0),void 0===i&&(i=t),this.cirleLight.graphics.clear(),this.cirleLight.graphics.beginFill(0),1==e?this.cirleLight.graphics.drawRoundRect(0,0,t,i,o,a):this.cirleLight.graphics.drawCircle(0,0,t),this.cirleLight.graphics.endFill(),this.show()},e.prototype.setLightPos=function(t,e){this.cirleLight.x=t,this.cirleLight.y=e},e.prototype.setMaskSize=function(t,e,i){void 0===i&&(i=1),this.graphics.clear(),this.graphics.beginFill(0,i),this.graphics.drawRect(0,0,t,e),this.graphics.endFill()},e}(egret.Sprite);t.ComLightMask=e,__reflect(e.prototype,"com.ComLightMask")}(com||(com={}));var ui;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.UiFirst,e}return __extends(e,t),e.prototype.init=function(t,e,i){void 0===i&&(i=!1),void 0!=t&&(this.logoDir=t),void 0!=e&&(this.btnDir=e),this.initLogoS=this.logo.scaleX,this.initBtnS=this.gBtn.scaleX,this.initConLogoS=this.conLogo.scaleX,this.initConBtnS=this.conBtn.scaleX,this.yoyoBtn(i)},e.prototype.load=function(){this.touchEnabled=!1;var t=this.conLogo,e=this.conBtn;gComMgr.setItemAnchor(this.logo),gComMgr.setItemAnchor(this.gLogo),gComMgr.setItemAnchor(this.btn),gComMgr.setItemAnchor(this.gBtn);var i=this.logoLoc,o=this.btnLoc;i||(i=this.logoLoc=new data.FirstData,i.scale=t.scaleX),o||(o=this.btnLoc=new data.FirstData,o.scale=e.scaleX),this.updateLogoLoc(),this.updateBtnLoc()},e.prototype.start=function(){},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){this.gBtn.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickArticle,this),this.gLogo.addEventListener(egret.TouchEvent.TOUCH_TAP,this.clickArticle,this)},e.prototype.removeEvent=function(){this.gBtn.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickArticle,this),this.gLogo.removeEventListener(egret.TouchEvent.TOUCH_TAP,this.clickArticle,this)
},e.prototype.resizeView=function(){var t=gConst.mobileByScale[this.screenType][this.mobileType],e=this.conLogo,i=this.conBtn,o=this.logoLoc,a=this.btnLoc;if(a.scale=this.initConBtnS*t,gTween.rmTweens(e),gTween.rmTweens(i),1==this.screenType){switch(o.scale=this.initConLogoS*t,this._updateLogoVer(),this._updateBtnVer(),this.mobileType){case 1:break;case 2:break;case 3:}e.x=o.vertical.x,e.y=o.vertical.y,i.x=a.vertical.x,i.y=a.vertical.y}else{switch(o.scale=this.initConLogoS*t,this._updateLogoHor(),this._updateBtnHor(),this.mobileType){case 1:break;case 2:break;case 3:}e.x=o.horizontal.x,e.y=o.horizontal.y,i.x=a.horizontal.x,i.y=a.horizontal.y}e.scaleX=e.scaleY=o.scale,i.scaleX=i.scaleY=a.scale,this.dispatchEventWith(gConst.eventType.RESIZE_VIEW)},e.prototype.rotateView=function(){this.conLogo,this.conBtn;1==this.screenType},e.prototype.__updateLogoHorRatio=function(){var t=this,e=this.conLogo,i=this.conBtn,o=this.logoLoc,a=this.btnLoc,r=function(){o.horizontal.x=Math.floor(t.width*o.horRatio/100)},s=function(){o.horizontal.x=Math.floor(t.width/2)},n=function(){o.horizontal.x=Math.floor(t.width*(1-o.horRatio/100))},h=function(){var i=gConst.mobileByScale[t.screenType][t.mobileType];o.center?o.horizontal.y=Math.floor((t.height-o.horSpace)/2-e.height*o.scale+o.centerOffset*i):o.topSpace>0&&o.topSpace<1?o.horizontal.y=Math.floor(o.topSpace*t.height+e.anchorOffsetY*o.scale):o.horizontal.y=Math.floor((o.topSpace+e.anchorOffsetY)*o.scale)},c=function(){o.bottomSpace>0&&o.bottomSpace<1?o.horizontal.y=Math.floor((1-o.bottomSpace)*t.height-e.anchorOffsetY*o.scale):t.btnDir.horDir==t.logoDir.horDir?o.horizontal.y=t.height-Math.floor((o.bottomSpace+i.height)*a.scale+(o.horSpace+e.anchorOffsetY)*o.scale):o.horizontal.y=t.height-Math.floor((o.bottomSpace+e.anchorOffsetY)*o.scale)};switch(this.logoDir.horDir){case gConst.direction.LEFT_TOP:r.call(this),h.call(this);break;case gConst.direction.LEFT_BOTTOM:r.call(this),c.call(this);break;case gConst.direction.CENTER_TOP:s.call(this),h.call(this);break;case gConst.direction.CENTER_BOTTOM:s.call(this),c.call(this);break;case gConst.direction.RIGHT_TOP:n.call(this),h.call(this);break;case gConst.direction.RIGHT_BOTTOM:n.call(this),c.call(this)}},e.prototype.__updateLogoHor=function(){var t=this,e=this.conLogo,i=this.conBtn,o=this.logoLoc,a=this.btnLoc,r=function(){o.leftSpace>0&&o.leftSpace<1?t.btnDir.horDir==t.logoDir.horDir?o.horizontal.x=Math.floor(o.leftSpace*o.scale*t.width+Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)):o.horizontal.x=Math.floor(o.leftSpace*o.scale*t.width+e.anchorOffsetX*o.scale):t.btnDir.horDir==t.logoDir.horDir?o.horizontal.x=Math.floor(o.leftSpace*o.scale+Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)):o.horizontal.x=Math.floor(o.leftSpace*o.scale+e.anchorOffsetX*o.scale)},s=function(){o.horizontal.x=Math.floor(t.width/2)},n=function(){o.rightSpace>0&&o.rightSpace<1?o.horizontal.x=Math.floor(t.width-(Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)+o.rightSpace*o.scale*t.width)):t.btnDir.horDir==t.logoDir.horDir?o.horizontal.x=Math.floor(t.width-(Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)+o.rightSpace*o.scale)):o.horizontal.x=Math.floor(t.width-(e.anchorOffsetX*o.scale+o.rightSpace*o.scale))},h=function(){var i=gConst.mobileByScale[t.screenType][t.mobileType];o.center?o.horizontal.y=Math.floor((t.height-o.horSpace)/2-e.height*o.scale+o.centerOffset*i):o.topSpace>0&&o.topSpace<1?o.horizontal.y=Math.floor(o.topSpace*t.height+e.anchorOffsetY*o.scale):o.horizontal.y=Math.floor((o.topSpace+e.anchorOffsetY)*o.scale)},c=function(){o.bottomSpace>0&&o.bottomSpace<1?o.horizontal.y=Math.floor((1-o.bottomSpace)*t.height-e.anchorOffsetY*o.scale):t.btnDir.horDir==t.logoDir.horDir?o.horizontal.y=Math.floor(t.height-((o.bottomSpace+i.height)*a.scale+(o.horSpace+e.anchorOffsetY)*o.scale)):o.horizontal.y=Math.floor(t.height-(o.bottomSpace+e.anchorOffsetY)*o.scale)};switch(this.logoDir.horDir){case gConst.direction.LEFT_TOP:r.call(this),h.call(this);break;case gConst.direction.LEFT_BOTTOM:r.call(this),c.call(this);break;case gConst.direction.CENTER_TOP:s.call(this),h.call(this);break;case gConst.direction.CENTER_BOTTOM:s.call(this),c.call(this);break;case gConst.direction.RIGHT_TOP:n.call(this),h.call(this);break;case gConst.direction.RIGHT_BOTTOM:n.call(this),c.call(this)}},e.prototype._updateLogoHor=function(){void 0!=this.logoLoc.horRatio?this.__updateLogoHorRatio():this.__updateLogoHor()},e.prototype.__updateLogoVerRatio=function(){var t=this,e=this.conLogo,i=this.conBtn,o=this.logoLoc,a=this.btnLoc,r=function(){o.leftSpace>0&&o.leftSpace<1?o.vertical.x=Math.floor(o.leftSpace*o.scale*t.width+Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)):o.vertical.x=Math.floor(o.leftSpace*o.scale+Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale))},s=function(){o.vertical.x=t.width/2},n=function(){var i=Math.floor(t.height*o.verRatio/100);t.btnDir.verDir==t.logoDir.verDir?o.vertical.y=i-Math.floor((o.verSpace/2+e.anchorOffsetY)*o.scale):o.vertical.y=i},h=function(){var i=Math.floor(t.height*(1-o.verRatio/100));t.btnDir.verDir==t.logoDir.verDir?o.vertical.y=i-Math.floor((o.verSpace/2+e.anchorOffsetY)*o.scale):o.vertical.y=i};switch(this.logoDir.verDir){case gConst.direction.LEFT_TOP:r.call(this),n.call(this);break;case gConst.direction.LEFT_BOTTOM:r.call(this),h.call(this);break;case gConst.direction.CENTER_TOP:s.call(this),n.call(this);break;case gConst.direction.CENTER_BOTTOM:s.call(this),h.call(this)}},e.prototype.__updateLogoVer=function(){var t=this,e=this.conLogo,i=this.conBtn,o=this.logoLoc,a=this.btnLoc,r=function(){o.leftSpace>0&&o.leftSpace<1?o.vertical.x=Math.floor(o.leftSpace*o.scale*t.width+Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)):t.btnDir.verDir==t.logoDir.verDir?o.vertical.x=Math.floor(o.leftSpace*o.scale+Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)):o.vertical.x=Math.floor(o.leftSpace*o.scale+e.anchorOffsetX*o.scale)},s=function(){o.vertical.x=t.width/2},n=function(){o.rightSpace>0&&o.rightSpace<1?o.vertical.x=Math.floor(t.width-(Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)+o.rightSpace*o.scale*t.width)):t.btnDir.verDir==t.logoDir.verDir?o.vertical.x=Math.floor(t.width-(Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)+o.rightSpace*o.scale)):o.vertical.x=Math.floor(t.width-(e.anchorOffsetX*o.scale+o.rightSpace*o.scale))},h=function(){o.topSpace>0&&o.topSpace<1?o.vertical.y=Math.floor(o.topSpace*t.height+e.anchorOffsetY*o.scale):o.vertical.y=Math.floor((o.topSpace+e.anchorOffsetY)*o.scale)},c=function(){o.bottomSpace>0&&o.bottomSpace<1?o.vertical.y=Math.floor((1-o.bottomSpace)*t.height-e.anchorOffsetY*o.scale):t.btnDir.verDir==t.logoDir.verDir?o.vertical.y=Math.floor(t.height-((o.bottomSpace+i.height)*a.scale+(o.verSpace+e.anchorOffsetY)*o.scale)):o.vertical.y=Math.floor(t.height-(o.bottomSpace+e.anchorOffsetY)*o.scale)};switch(this.logoDir.verDir){case gConst.direction.LEFT_TOP:r.call(this),h.call(this);break;case gConst.direction.LEFT_BOTTOM:r.call(this),c.call(this);break;case gConst.direction.CENTER_TOP:s.call(this),h.call(this);break;case gConst.direction.CENTER_BOTTOM:s.call(this),c.call(this);break;case gConst.direction.RIGHT_TOP:n.call(this),h.call(this);break;case gConst.direction.RIGHT_BOTTOM:n.call(this),c.call(this)}},e.prototype._updateLogoVer=function(){void 0!=this.logoLoc.verRatio?this.__updateLogoVerRatio():this.__updateLogoVer()},e.prototype.updateLogoLoc=function(t){if(t)void 0!=t.horizontal.x&&(t.horizontal.x=t.horizontal.x),void 0!=t.horizontal.y&&(t.horizontal.y=t.horizontal.y),void 0!=t.vertical.x&&(t.vertical.x=t.vertical.x),void 0!=t.vertical.y&&(t.vertical.y=t.vertical.y);else{if(!this.logoDir)return;this._updateLogoHor(),this._updateLogoVer()}},e.prototype.__updateBtnHorRatio=function(){var t=this,e=this.conLogo,i=this.conBtn,o=this.logoLoc,a=this.btnLoc,r=function(){a.horizontal.x=Math.floor(t.width*a.horRatio/100)},s=function(){a.horizontal.x=Math.floor(t.width/2)},n=function(){a.horizontal.x=Math.floor(t.width*(1-a.horRatio/100))},h=function(){var r=gConst.mobileByScale[t.screenType][t.mobileType];o.center?a.horizontal.y=Math.floor((t.height+a.horSpace)/2+a.centerOffset*r):a.topSpace>0&&a.topSpace<1?t.logoDir.horDir==t.btnDir.horDir?a.horizontal.y=Math.floor(o.topSpace*t.height+e.height*o.scale+a.horSpace+i.anchorOffsetY*a.scale):a.horizontal.y=Math.floor(a.topSpace*t.height*a.scale):t.logoDir.horDir==t.btnDir.horDir?a.horizontal.y=Math.floor((o.topSpace+e.height)*o.scale+(a.horSpace+i.anchorOffsetY)*a.scale):a.horizontal.y=Math.floor((a.topSpace+i.anchorOffsetY)*a.scale)},c=function(){a.bottomSpace>0&&a.bottomSpace<1?a.horizontal.y=Math.floor((1-a.bottomSpace)*t.height-i.anchorOffsetY*a.scale):a.horizontal.y=Math.floor(t.height-(a.bottomSpace+i.anchorOffsetY)*a.scale)};switch(this.btnDir.horDir){case gConst.direction.LEFT_TOP:r.call(this),h.call(this);break;case gConst.direction.LEFT_BOTTOM:r.call(this),c.call(this);break;case gConst.direction.CENTER_TOP:s.call(this),h.call(this);break;case gConst.direction.CENTER_BOTTOM:s.call(this),c.call(this);break;case gConst.direction.RIGHT_TOP:n.call(this),h.call(this);break;case gConst.direction.RIGHT_BOTTOM:n.call(this),c.call(this)}},e.prototype.__updateBtnHor=function(){var t=this,e=this.conLogo,i=this.conBtn,o=this.logoLoc,a=this.btnLoc,r=function(){a.leftSpace>0&&a.leftSpace<1?t.logoDir.horDir==t.btnDir.horDir?a.horizontal.x=Math.floor(a.leftSpace*a.scale*t.width+Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)):a.horizontal.x=Math.floor(a.leftSpace*a.scale*t.width+i.anchorOffsetX*a.scale):t.logoDir.horDir==t.btnDir.horDir?a.horizontal.x=Math.floor(a.leftSpace*a.scale+Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)):a.horizontal.x=Math.floor(a.leftSpace*a.scale+i.anchorOffsetX*a.scale)},s=function(){a.horizontal.x=Math.floor(t.width/2)},n=function(){a.rightSpace>0&&a.rightSpace<1?a.horizontal.x=Math.floor(t.width-(Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)+a.rightSpace*o.scale*t.width)):t.logoDir.horDir==t.btnDir.horDir?a.horizontal.x=Math.floor(t.width-(Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)+a.rightSpace*a.scale)):a.horizontal.x=Math.floor(t.width-(i.anchorOffsetX*a.scale+a.rightSpace*a.scale))},h=function(){var r=gConst.mobileByScale[t.screenType][t.mobileType];o.center?a.horizontal.y=Math.floor((t.height+a.horSpace)/2+a.centerOffset*r):a.topSpace>0&&a.topSpace<1?t.logoDir.horDir==t.btnDir.horDir?a.horizontal.y=Math.floor(o.topSpace*t.height+e.height*o.scale+a.horSpace+i.anchorOffsetY*a.scale):a.horizontal.y=Math.floor(a.topSpace*t.height*a.scale+i.anchorOffsetY*a.scale):t.logoDir.horDir==t.btnDir.horDir?a.horizontal.y=Math.floor((o.topSpace+e.height)*o.scale+(a.horSpace+i.anchorOffsetY)*a.scale):a.horizontal.y=Math.floor((a.topSpace+i.anchorOffsetY)*a.scale)},c=function(){a.bottomSpace>0&&a.bottomSpace<1?a.horizontal.y=Math.floor((1-a.bottomSpace)*t.height-i.anchorOffsetY*a.scale):a.horizontal.y=Math.floor(t.height-(a.bottomSpace+i.anchorOffsetY)*a.scale)};switch(this.btnDir.horDir){case gConst.direction.LEFT_TOP:r.call(this),h.call(this);break;case gConst.direction.LEFT_BOTTOM:r.call(this),c.call(this);break;case gConst.direction.CENTER_TOP:s.call(this),h.call(this);break;case gConst.direction.CENTER_BOTTOM:s.call(this),c.call(this);break;case gConst.direction.RIGHT_TOP:n.call(this),h.call(this);break;case gConst.direction.RIGHT_BOTTOM:n.call(this),c.call(this)}},e.prototype._updateBtnHor=function(){void 0!=this.btnLoc.horRatio?this.__updateBtnHorRatio():this.__updateBtnHor()},e.prototype.__updateBtnVerRatio=function(){var t=this,e=this.conLogo,i=this.conBtn,o=this.logoLoc,a=this.btnLoc,r=function(){a.leftSpace>0&&a.leftSpace<1?a.vertical.x=Math.floor(a.leftSpace*a.scale*t.width+Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)):a.vertical.x=Math.floor(a.leftSpace*a.scale+Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale))},s=function(){a.vertical.x=Math.floor(t.width/2)},n=function(){var e=Math.floor(t.height*a.verRatio/100);t.logoDir.verDir==t.btnDir.verDir?a.vertical.y=e+Math.floor(a.verSpace/2+i.anchorOffsetY)*a.scale:a.vertical.y=e},h=function(){var e=Math.floor(t.height*(1-a.verRatio/100));t.logoDir.verDir==t.btnDir.verDir?a.vertical.y=e+Math.floor(a.verSpace/2+i.anchorOffsetY)*a.scale:a.vertical.y=e};switch(this.btnDir.verDir){case gConst.direction.LEFT_TOP:r.call(this),n.call(this);break;case gConst.direction.LEFT_BOTTOM:r.call(this),h.call(this);break;case gConst.direction.CENTER_TOP:s.call(this),n.call(this);break;case gConst.direction.CENTER_BOTTOM:s.call(this),h.call(this)}},e.prototype.__updateBtnVer=function(){var t=this,e=this.conLogo,i=this.conBtn,o=this.logoLoc,a=this.btnLoc,r=function(){a.leftSpace>0&&a.leftSpace<1?a.vertical.x=Math.floor(a.leftSpace*a.scale*t.width+Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)):t.logoDir.verDir==t.btnDir.verDir?a.vertical.x=Math.floor(a.leftSpace*a.scale+Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)):a.vertical.x=Math.floor(a.leftSpace*a.scale+i.anchorOffsetX*a.scale)},s=function(){a.vertical.x=t.width/2},n=function(){a.rightSpace>0&&a.rightSpace<1?a.vertical.x=Math.floor(t.width-(Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)+a.rightSpace*o.scale*t.width)):t.logoDir.verDir==t.btnDir.verDir?a.vertical.x=Math.floor(t.width-(Math.max(e.anchorOffsetX*o.scale,i.anchorOffsetX*a.scale)+a.rightSpace*a.scale)):a.vertical.x=Math.floor(t.width-(i.anchorOffsetX*a.scale+a.rightSpace*a.scale))},h=function(){a.topSpace>0&&a.topSpace<1?t.logoDir.verDir==t.btnDir.verDir?a.vertical.y=Math.floor(o.topSpace*t.height+e.height*o.scale+a.verSpace+i.anchorOffsetY*a.scale):a.vertical.y=Math.floor(a.topSpace*t.height*a.scale+i.anchorOffsetY*a.scale):t.logoDir.verDir==t.btnDir.verDir?a.vertical.y=Math.floor((o.topSpace+e.height)*o.scale+(a.verSpace+i.anchorOffsetY)*a.scale):a.vertical.y=Math.floor((a.topSpace+i.anchorOffsetY)*a.scale)},c=function(){a.bottomSpace>0&&a.bottomSpace<1?a.vertical.y=Math.floor((1-a.bottomSpace)*t.height-i.anchorOffsetY*a.scale):a.vertical.y=Math.floor(t.height-(a.bottomSpace+i.anchorOffsetY)*a.scale)};switch(this.btnDir.verDir){case gConst.direction.LEFT_TOP:r.call(this),h.call(this);break;case gConst.direction.LEFT_BOTTOM:r.call(this),c.call(this);break;case gConst.direction.CENTER_TOP:s.call(this),h.call(this);break;case gConst.direction.CENTER_BOTTOM:s.call(this),c.call(this);break;case gConst.direction.RIGHT_TOP:n.call(this),h.call(this);break;case gConst.direction.RIGHT_BOTTOM:n.call(this),c.call(this)}},e.prototype._updateBtnVer=function(){void 0!=this.btnLoc.verRatio?this.__updateBtnVerRatio():this.__updateBtnVer()},e.prototype.updateBtnLoc=function(t){if(t)void 0!=t.horizontal.x&&(t.horizontal.x=t.horizontal.x),void 0!=t.horizontal.y&&(t.horizontal.y=t.horizontal.y),void 0!=t.vertical.x&&(t.vertical.x=t.vertical.x),void 0!=t.vertical.y&&(t.vertical.y=t.vertical.y);else{if(!this.btnDir)return;this._updateBtnHor(),this._updateBtnVer()}},e.prototype.updateDir=function(t,e,i,o){void 0===i&&(i=!1),void 0===o&&(o=!1),this.init(t,e,i),o&&(this.resizeView(),this.rotateView())},e.prototype.yoyoBtn=function(t){void 0===t&&(t=!0),gConst.notEffectModel||window.MW_CONFIG&&"google"==MW_CONFIG.channel||(t?gTween.yoyoBtn(this.gBtn,void 0,void 0,{orgS:{x:this.initBtnS}}):this.isYoyoBtn&&(gTween.rmTweens(this.gBtn),this.gBtn.scaleX=this.gBtn.scaleY=1),this.isYoyoBtn=t)},e.prototype.gameEnd=function(){t.prototype.gameEnd.call(this);this.conLogo,this.conBtn},e.prototype.updateEndLoc=function(){if(GameMgr.isEnd){var t=gConst.mobileByScale[this.screenType][this.mobileType],e=this.logoLoc,i=this.btnLoc;if(e.scale=this.initConLogoS*t,e.bottomSpace=i.bottomSpace=.1,e.horRatio=i.horRatio=25,e.horSpace=i.horSpace=0,e.centerOffset=i.centerOffset=140,1==this.screenType)switch(i.scale=this.initConBtnS*t,e.center=i.center=null,this._updateLogoVer(),this._updateBtnVer(),this.mobileType){case 1:break;case 2:break;case 3:}else switch(i.scale=this.initConBtnS*t*.9,e.center=i.center=!0,this._updateLogoHor(),this._updateBtnHor(),this.mobileType){case 1:break;case 2:break;case 3:}}},e.prototype.clickArticle=function(t){this.clickInstall(t)},e}(t.UiFile);t.UiFirst=e,__reflect(e.prototype,"ui.UiFirst")}(ui||(ui={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.interval=40,e.playTime=-1,e.isplay=!1,e.backToFirst=!0,e.isReverse=!1,e.skinName=skins.ComEmpty,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){this.bm=new eui.Image,this.addChild(this.bm)},e.prototype.start=function(){},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(t){if(1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType},e.prototype.setData=function(t,e,i){void 0===e&&(e=0),void 0===i&&(i=0),this.list=t,this.bm.anchorOffsetX=e,this.bm.anchorOffsetY=i},e.prototype.frameCnt=function(){return this.currentData.order&&this.currentData.order.length>0?this.currentData.order.length:this.currentData.frameCnt},e.prototype.getCurIndex=function(){return this.frameIndex},e.prototype.getFrameIndexCnt=function(){return this.currentData.order&&this.currentData.order.length>0?this.currentData.order[this.frameIndex-1]:this.frameIndex+this.currentData.firstIndex-1},e.prototype.getFrameIndexName=function(){var t=this.getFrameIndexCnt();return gMath.switchNum(t,!1,this.currentData.minBit)},e.prototype.picName=function(){var t=this.currentData.frameName.indexOf("{1}");return t>-1?this.currentData.frameName.replace("{1}",this.getFrameIndexName()):this.currentData.frameName},e.prototype.pixelHitTest=function(t){this.bm.pixelHitTest=t},e.prototype.gotoAndStop=function(t,e){void 0===e&&(e=1),this.isplay&&(this.isplay=!1,this.removeEventListener(egret.Event.ENTER_FRAME,this._update,this)),this.currentFrameName=t,this.currentData=this.getMcDataByAction(t),this.frameIndex=e,this.currentData&&(this.bm.source=this.picName())},e.prototype.dispose=function(){this.pause(),this.parent&&this.parent.removeChild(this),this.removeChildren(),this.list=null},e.prototype.gotoAndReverse=function(t,e){void 0===e&&(e=-1),this.isReverse=!0,this.currentFrameName=t,this.playTime=e,this.currentData=this.getMcDataByAction(t),this.currentData&&(this.nextUpdateTime=egret.getTimer()+this.interval,this.currentData.direct=-1,this.frameIndex=this.frameCnt(),this.bm.source=this.picName(),this.isplay||(this.isplay=!0,this.addEventListener(egret.Event.ENTER_FRAME,this._update,this)))},e.prototype.gotoAndPlay=function(t,e,i,o){void 0===e&&(e=-1),void 0===i&&(i=1),void 0===o&&(o=!0),this.isReverse=!1,this.currentFrameName=t,this.playTime=e,this.backToFirst=o,this.currentData=this.getMcDataByAction(t),this.currentData&&(this.nextUpdateTime=egret.getTimer()+this.interval,this.currentData.direct=1,this.frameIndex=i,this.bm.source=this.picName(),this.isplay||(this.isplay=!0,this.addEventListener(egret.Event.ENTER_FRAME,this._update,this)))},e.prototype._update=function(t){egret.getTimer()>=this.nextUpdateTime&&this.updateFrame()},e.prototype.updateFrame=function(){this.nextUpdateTime=egret.getTimer()+this.interval,this.dispatchEventWith(gConst.eventType.ONE_STEP_COMPLETE),this.isReverse&&this.frameIndex<1&&(this.pause(),this.dispatchEventWith(egret.Event.COMPLETE)),this.bm.source=this.picName(),this.frameIndex+=this.currentData.direct,this.frameIndex>this.frameCnt()?(1==this.currentData.direct&&this.currentData.backplay?(this.frameIndex-=2,this.currentData.direct=-1):this.backToFirst?this.frameIndex=1:this.frameIndex--,-1==this.playTime?this.dispatchEventWith(gConst.eventType.ONCE_COMPLETE):(!this.currentData.backplay||this.currentData.backplay&&this.isReverse)&&(this.playTime--,this.dispatchEventWith(gConst.eventType.ONCE_COMPLETE),0==this.playTime&&(this.pause(),this.dispatchEventWith(egret.Event.COMPLETE)))):this.frameIndex<1&&(-1==this.currentData.direct&&this.currentData.backplay&&(this.frameIndex+=2,this.currentData.direct=1),this.currentData.backplay&&!this.isReverse&&(this.playTime--,this.dispatchEventWith(gConst.eventType.ONCE_COMPLETE),0==this.playTime&&(this.pause(),this.dispatchEventWith(egret.Event.COMPLETE))))},e.prototype.pause=function(){this.isplay&&(this.isplay=!1,this.removeEventListener(egret.Event.ENTER_FRAME,this._update,this))},e.prototype.getMcDataByAction=function(t){for(var e=0;e<this.list.length;e++)if(this.list[e].fName==t)return this.list[e];return null},e}(t.ComFileBase);t.ComMovieClip=e,__reflect(e.prototype,"com.ComMovieClip")}(com||(com={}));var util;!function(t){var e=function(){function t(t){this.partScale=1,this.scene=t,this.init()}return t.prototype.init=function(){var t=this.scene.scaleX;this.scene.width=this.scene.width*t,this.scene.height=this.scene.height*t,this.scene.scaleX=this.scene.scaleY=1},t.prototype.setLookPot=function(t){t&&(this.lookPot||(this.lookPot={}),this.lookPot.x=t.x,this.lookPot.y=t.y)},t.prototype.upBaseScale=function(){var t=GameMgr.gameScene.width/1334,e=GameMgr.gameScene.height/1334;this.baseScale=Math.max(t,e)},t.prototype.checkCameraScale=function(t){var e;return void 0==t?e=1*this.partScale:(e=1*t,this.partScale=t),e},t.prototype.checkCameraPot=function(t){var e,i;if(t)e=t.x,i=t.y;else{if(!this.lookPot)return;e=this.lookPot.x,i=this.lookPot.y}return{x:e,y:i}},t.prototype.tranCameraLoc=function(t,e){if(t=this.checkCameraPot(t)){var i=this.checkCameraScale(e),o=this.scene.parent,a=o.width/2-t.x*i,r=o.height/2-t.y*i,s=o.parent||GameMgr.gameScene,n=(o.width*o.scaleX-s.width)/2;if(a>n)a=n;else{var h=s.width-this.scene.width*i*o.scaleX;h>a&&(a=h)}var c=(o.height*o.scaleY-s.height)/2;if(r>c)r=c;else{var l=s.height-this.scene.height*i*o.scaleY;l>r&&(r=l)}return{x:a,y:r}}},t.prototype.upCamera=function(t,e,i,o,a){void 0===t&&(t=!0);for(var r=[],s=5;s<arguments.length;s++)r[s-5]=arguments[s];if(e=this.checkCameraPot(e)){this.setLookPot(e);var n=this.checkCameraScale(i);this.upBaseScale();var h=this.tranCameraLoc(e,i);t?gTween.tween(this.scene,void 0,{props:{x:h.x,y:h.y,scaleX:n,scaleY:n},duration:500,call:{callback:function(){o&&o.call.apply(o,[a].concat(r))}}}):(this.scene.x=h.x,this.scene.y=h.y,this.scene.scaleX=n,this.scene.scaleY=n)}},t}();t.CameraMgr=e,__reflect(e.prototype,"util.CameraMgr")}(util||(util={}));var util;!function(t){var e=function(){function t(){}return t.getRectangleVerPoints=function(t){var e=t.anchorOffsetX,i=t.anchorOffsetY,o=t.matrix,a=o.a,r=o.b,s=o.c,n=o.d,h=o.tx,c=o.ty,l=t.width,p=t.height,d=-e,f=-i,u=l-e,g=-i,v=l-e,y=p-i,m=-e,T=p-i,E={x:h+a*d+s*f,y:c+r*d+n*f},M={x:h+a*u+s*g,y:c+r*u+n*g},w={x:h+a*v+s*y,y:c+r*v+n*y},_={x:h+a*m+s*T,y:c+r*m+n*T};return[E,M,w,_]},t.TestCircleAndPolygon=function(e,i,o,a){for(var r=0;r<a.length;r++){var s=a[r],n=void 0,h=void 0;n=r!=a.length-1?a[r+1]:a[0],h=t.get2PointVec(s,n,!1);var c=t.getSideNorml(h,!1),l=t.calcProj(c,a),p=t.dot([e,i],t.normalize(c)),d=t.segDist(l.min,l.max,p-o,p+o);if(!d)return!1}return!0},t.checkPolygon=function(e,i){var o=function(e,i,o){for(var a=0;a<e.length;a++){var r=e[a],s=void 0,n=void 0;s=a!=e.length-1?e[a+1]:e[0],n=t.get2PointVec(r,s,!1);var h=t.getSideNorml(n,!1),c=t.calcProj(h,i),l=t.calcProj(h,o),p=t.segDist(c.min,c.max,l.min,l.max);if(!p)return!1}return!0};return o(e,e,i)&&o(i,e,i)?!0:!1},t.checktObjPolygon=function(t,e){var i=this.getRectangleVerPoints(t),o=this.getRectangleVerPoints(e);return i=this.switchGlobalPoint(t,i),o=this.switchGlobalPoint(e,o),this.checkPolygon(i,o)},t.switchGlobalPoint=function(t,e){for(var i,o=0;o<e.length;o++){var a=e[o];i=gComMgr.toGlobal(t,a.x,a.y,i),i&&(e[o].x=i.x,e[o].y=i.y)}return e},t.calcProj=function(e,i){for(var o=0,a=0,r=0;r<i.length;r++){var s=[i[r].x,i[r].y],n=t.dot(s,t.normalize(e));0==o||0==a?o=a=n:(o=o>n?n:o,a=n>a?n:a)}return{min:o,max:a}},t.segDist=function(t,e,i,o){return i>t?e>i&&o>t:o>t&&e>i},t.get2PointVec=function(e,i,o){void 0===o&&(o=!0);var a=i.x-e.x,r=i.y-e.y;return o?t.normalize([a,r]):[a,r]},t.getSideNorml=function(e,i){void 0===i&&(i=!0);var o=e[0],a=e[1];return i&&t.normalize([-a,o]),[-a,o]},t.normalize=function(t){if(2!=t.length)return console.error("只能标准化2d向量"),t;var e=t[0],i=t[1],o=Math.sqrt(e*e+i*i);return[e/o,i/o]},t.dot=function(t,e){return 2!=t.length||2!=e.length?(console.error("只能计算2d向量的点积"),null):t[0]*e[0]+t[1]*e[1]},t}();t.CollisionUitls=e,__reflect(e.prototype,"util.CollisionUitls")}(util||(util={}));var com;!function(t){var e=function(){function t(){}return t.prototype.create=function(){if(!this.system){var t=RES.getRes(this.resName+"_png"),e=RES.getRes(this.cfgName+"_json");this.system=new particle.GravityParticleSystem(t,e),this.system.touchEnabled=!1,this.setPos()}this.parent.addChild(this.system)},t.prototype.setData=function(t,e,i){this.parent=t,this.resName=e,this.cfgName=i||e,this.create()},t.prototype.start=function(t){this.system.start(t)},t.prototype.stop=function(t){this.system.stop(t)},t.prototype.change=function(t){this.resName=t;var e=RES.getRes(this.resName+"_png");this.system.changeTexture(e)},t.prototype.setIndex=function(t){this.system&&this.system.parent&&this.system.parent.setChildIndex(this.system,t)},t.prototype.setPos=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.system.x=t,this.system.y=e},t.prototype.setMaxParticle=function(t){this.system.maxParticles=t},t.prototype.setScale=function(t,e){void 0===t&&(t=1),void 0===e&&(e=1),this.system.scaleX=t,this.system.scaleY=e},t.prototype.setRotation=function(t){void 0===t&&(t=0),this.system.rotation=t},t.prototype.updateEmitterX=function(t){this.system.emitterX=t},t.prototype.updateEmitterY=function(t){this.system.emitterY=t},t}();t.ComParticle=e,__reflect(e.prototype,"com.ComParticle")}(com||(com={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.rangeX=300,e.rangeY=0,e.goalX=0,e.goalY=0,e.textureName="",e.liziWidth=0,e.liziHeight=0,e.liziScale=1,e.zhongliY=0,e.speedY=1,e.speedRangeY=1,e.speedX=2,e.speedRangeX=2,e.life=1e4,e.createtime=100,e.lizinum=2,e.touchEnabled=e.touchChildren=!1,e}return __extends(e,t),e.prototype.setData=function(t,e,i,o,a,r,s,n,h,c,l,p,d,f,u,g){void 0===h&&(h=0),void 0===c&&(c=2),void 0===l&&(l=1),void 0===p&&(p=2),void 0===d&&(d=2),void 0===f&&(f=1e4),void 0===u&&(u=100),void 0===g&&(g=2),this.lizinum=g,this.rangeX=t,this.rangeY=e,this.goalX=i,this.goalY=o,this.textureName=a,this.liziWidth=r,this.liziHeight=s,this.liziScale=n,this.zhongliY=h,this.speedY=c,this.speedRangeY=l,this.speedX=p,this.speedRangeX=d,this.life=f,this.createtime=u},e.prototype.start=function(){for(var t=0;t<this.lizinum;t++){var e=new i(this.goalX,this.goalY,this.textureName,this.liziWidth,this.liziHeight,this.liziScale,this.zhongliY,this.speedY,this.speedRangeY,this.speedX,this.speedRangeX,this.life);this.addChild(e),e.x=-this.rangeX/2+this.rangeX/2*Math.random(),e.y=-this.rangeY/2+this.rangeY/2*Math.random()}},e}(egret.Sprite);t.ComParticleImitate=e,__reflect(e.prototype,"com.ComParticleImitate");var i=function(t){function e(e,i,o,a,r,s,n,h,c,l,p,d){void 0===n&&(n=0),void 0===h&&(h=1),void 0===c&&(c=1),void 0===l&&(l=1),void 0===p&&(p=1);var f=t.call(this)||this;return f.rangeX=0,f.rangeY=0,f.goalX=0,f.goalY=0,f.zl=0,f.goalX=e,f.goalY=i,f.source=o,f.width=a,f.height=r,f.scaleX=f.scaleY=s-.01+.01*Math.random(),f.speedY=Math.random()*c+h,f.speedX=Math.random()*p+l,f.zl=n,f.life=d,f.addEventListener(egret.Event.ENTER_FRAME,f.update,f),f.createTime=egret.getTimer(),f}return __extends(e,t),e.prototype.play=function(){var t=this;egret.Tween.get(this).to({x:this.goalX,y:this.goalY},2*this.life/5).call(function(){t.parent.removeChild(t),egret.Tween.removeTweens(t)},this)},e.prototype.update=function(){this.alpha-=.01,this.y+=this.speedY,this.x+=this.speedX,egret.getTimer()-this.createTime>=3*this.life/5&&(this.play(),this.removeEventListener(egret.Event.ENTER_FRAME,this.update,this)),this.speedY+=this.zl},e}(eui.Image);__reflect(i.prototype,"FlyObj")}(com||(com={}));var util;!function(t){var e=function(){function t(t){this._floatPool=[],this._curAllFloats=[],this.con=t}return t.prototype.update=function(t){this.addFloat(),this.checkFloat(),this.moveFloat()},t.prototype.show=function(t){this.data||(this.data=new data.FloatData),this.data.setData(t),this.isShowed=!0,egret.startTick(this.update,this)},t.prototype.updateData=function(t,e){void 0===e&&(e=!0),this.data||(this.data=new data.FloatData),this.data.updateData(t,e)},t.prototype.hide=function(t){if(void 0===t&&(t=!0),egret.stopTick(this.update,this),this.isShowed=!1,t)for(var e=0,i=this._curAllFloats,o=i.length>e?i[e]:null;o;)this.removeFloat(o),o=i.length>e?i[e]:null},t.prototype.addFloat=function(){if(!(this._curAllFloats.length>=this.data.floatMaxCnt)){var t;t=this._floatPool&&this._floatPool.length>0?this._floatPool.pop():new com.ComFloat,this.con.addChildAt(t,0),t.open(this.data);var e=gMath.getRandomAnswer.apply(gMath,this.data.dires);t.dire(e);var i=t.anchorOffsetX,o=t.anchorOffsetY,a=this.con.width,r=this.con.height;switch(e){case gConst.direction.CENTER_TOP:t.x=gMath.getRandomInteger(a+i,-i),t.y=-o;break;case gConst.direction.CENTER_BOTTOM:t.x=gMath.getRandomInteger(a+i,-i),t.y=r+o;break;case gConst.direction.LEFT_CENTER:t.x=-i,t.y=gMath.getRandomInteger(r+o,-o);break;case gConst.direction.RIGHT_CENTER:t.x=a+i,t.y=gMath.getRandomInteger(r+o,-o)}this._curAllFloats.push(t)}},t.prototype.removeFloat=function(t){gTween.rmTweens(t),gComMgr.rmObj(t),gDevelop.arrDelVal(this._curAllFloats,t),this._floatPool.push(t)},t.prototype.checkFloat=function(){for(var t=this.con.width,e=this.con.height,i=10,o=0;o<this._curAllFloats.length;){var a=this._curAllFloats[o],r=a.anchorOffsetX,s=a.anchorOffsetY,n=void 0,h=a.dire();switch(h){case gConst.direction.CENTER_TOP:n=a.y>=e+s+i;break;case gConst.direction.CENTER_BOTTOM:n=a.y<=-s-i;break;case gConst.direction.LEFT_CENTER:n=a.x>=t+r+i;break;case gConst.direction.RIGHT_CENTER:n=a.x<=-r-i}n?(a.die(null),a.destroy(),this._curAllFloats.splice(o,1),this._floatPool.push(a)):o++}},t.prototype.moveFloat=function(){for(var t=3,e=function(e,i,o){e>t?gTween.toMoveX(i,o,60):i.x=o},i=function(e,i,o){e>t?gTween.toMoveY(i,o,60):i.y=o},o=0,a=this._curAllFloats;o<a.length;o++){var r=a[o];if(!r.die()){var s=r.speed(),n=void 0,h=r.dire();switch(h){case gConst.direction.CENTER_TOP:n=r.y+s,i.call(this,s,r,n);break;case gConst.direction.CENTER_BOTTOM:n=r.y-s,i.call(this,s,r,n);break;case gConst.direction.LEFT_CENTER:n=r.x+s,e.call(this,s,r,n);break;case gConst.direction.RIGHT_CENTER:n=r.x-s,e.call(this,s,r,n)}}}},t}();t.FloatMgr=e,__reflect(e.prototype,"util.FloatMgr")}(util||(util={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.moveCount=0,e.hasThrow=!1,e.prePointX=-1,e.prePointY=-1,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.touchEnabled=this.touchChildren=!1},e.prototype.load=function(){},e.prototype.start=function(){},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){GameMgr.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.addScar,this),GameMgr.stage.addEventListener(egret.TouchEvent.TOUCH_END,this.moveEnd,this)},e.prototype.removeEvent=function(){GameMgr.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.addScar,this),GameMgr.stage.removeEventListener(egret.TouchEvent.TOUCH_END,this.moveEnd,this)},e.prototype.resizeView=function(t){if(1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType},e.prototype.addScar=function(t){if(!this.touchPointID||this.touchPointID==t.touchPointID){this.touchPointID=t.touchPointID,this.moveCount++,!this.hasThrow&&this.moveCount>10&&(this.hasThrow=!0);
var e=t.stageX,i=t.stageY;if(this.prePointX>0&&this.prePointY>0){var o=Math.floor(Math.sqrt((this.prePointY-i)*(this.prePointY-i)+(this.prePointX-e)*(this.prePointX-e))),a=57.3*Math.atan((i-this.prePointY)/(e-this.prePointX));this.prePointX<=e&&(o*=-1);var r=new egret.Shape,s=30;r.graphics.lineStyle(s,16777215),r.graphics.moveTo(0,0),r.graphics.lineTo(o,0),r.graphics.endFill(),this.addChild(r),r.x=e,r.y=i,r.anchorOffsetX=4.5,r.rotation=a,gTween.tween(r,void 0,{props:{scaleY:0},duration:300,call:{callback:function(){r=gComMgr.rmObj(r)}}})}this.prePointX=e,this.prePointY=i}},e.prototype.moveEnd=function(t){this.touchPointID=null,this.prePointX=-1,this.prePointY=-1,this.moveCount=0,this.hasThrow=!1},e}(t.ComFile);t.ComScar=e,__reflect(e.prototype,"com.ComScar")}(com||(com={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.ComBubble,e}return __extends(e,t),e.prototype.init=function(t,e){this.word.source=t,e||(e={}),e.paddingX=void 0!=e.paddingX?e.paddingX:25,e.paddingY=void 0!=e.paddingY?e.paddingY:18,e.arrowDiffX=void 0!=e.arrowDiffX?e.arrowDiffX:148,e.arrowDiffY=void 0!=e.arrowDiffY?e.arrowDiffY:20,e.arrowDir=void 0!=e.arrowDir?e.arrowDir:gConst.direction.LEFT_BOTTOM,this.cfg=e},e.prototype.load=function(){var t=this.con,e=this.conWord,i=this.bgDebug,o=this.bgWord,a=this.word,r=this.cfg,s=r.paddingX,n=r.paddingY,h=r.arrowDiffY,c=r.arrowDir;gComMgr.setObjSize(a);var l=a.width+2*s,p=a.height+2*n;o.width=l,o.height=p+h,o.anchorOffsetX=o.width/2,o.y=o.anchorOffsetY=(o.height-h)/2;var d=o.scaleX,f=0,u=1,g=r.arrowDiffX,v=r.arrowDiffY;switch(c){case gConst.direction.LEFT_TOP:f=180,u=-1,g=l-g,v*=-1;break;case gConst.direction.RIGHT_TOP:f=180,v*=-1;break;case gConst.direction.LEFT_BOTTOM:g=l-g,v+=p;break;case gConst.direction.RIGHT_BOTTOM:u=-1,v+=p}o.rotation=f,o.scaleX=d*u,e.width=l,e.height=p,e.x=e.anchorOffsetX=g,e.y=e.anchorOffsetY=v,gComMgr.setObjSize(e,!0),gComMgr.setObjSize(t,!0),i.width=l,i.height=p+h,i.anchorOffsetX=i.width/2,i.y=i.anchorOffsetY=(i.height-h)/2,i.rotation=o.rotation+180,i.visible=gConst.debugModel},e.prototype.start=function(){var t=this.conWord;t.visible=!1},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(t){if(1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType},e.prototype.showBubble=function(t,e){if(void 0===t&&(t=500),void 0===e&&(e={isFloat:!0}),this.showBubbled)this.hideBubble(void 0,this.showBubble,this);else{var i=this.conWord;this.showBubbled=!0,gTween.showBubble(i,t,{orgS:1,orgA:1},void 0,void 0,void 0,e)}},e.prototype.hideBubble=function(t,e,i){if(void 0===t&&(t=300),this.showBubbled){var o=this.conWord;this.showBubbled=!1,gTween.hideBubble(o,t,{orgS:1,orgA:1},e,i)}},e}(t.ComFile);t.ComBubble=e,__reflect(e.prototype,"com.ComBubble")}(com||(com={}));var util;!function(t){var e=function(){function t(t){this.main=t}return Object.defineProperty(t.prototype,"particles",{get:function(){return this._particles},set:function(t){this._particles=t},enumerable:!0,configurable:!0}),t.prototype.getParticle=function(t){if(void 0!=t){var e=this.particles;if(e){var i=e[t];return i||(i={id:Number(t)}),i}}},t.prototype.createParticles=function(t,e,i,o,a,r,s){void 0===a&&(a=!0),void 0===r&&(r=0),void 0===s&&(s=0),this.particles||(this.particles={});var n=gAutoId.id,h=this.getParticle(n);if(h&&t&&e&&i){h.parent=t,h.resName=e,h.cfgName=i,void 0==o&&(o=t.numChildren),h.idx=o,this.particles[n]=h;for(var c=0;c<e.length;c++){var l=this.createParticle(n,e[c],i,c,a);this.updataParticleEmitter(t,l),this.setParticleIndex(l,o),this.setParticlePos(l,r,s)}return n}},t.prototype.startParticles=function(t){var e=this.particles;if(e)for(var i in e)this.startParticle(i,t)},t.prototype.startParticle=function(t,e){if(void 0!=t){var i=this.getParticle(t);if(i){var o=i.particleObj;if(o)for(var a in o)o[a].start(e)}}},t.prototype.stopParticles=function(t){var e=this.particles;if(e)for(var i in e)this.stopParticle(i,t)},t.prototype.stopParticle=function(t,e){if(void 0!=t){var i=this.getParticle(t);if(i){var o=i.particleObj;if(o)for(var a in o)o[a].stop(e)}}},t.prototype.setParticlesIndex=function(t){var e=this.particles;if(e)for(var i in e){var o=this.getParticle(i),a=o.particleObj;if(a)for(var r in a)this.setParticleIndex(a[r],t)}},t.prototype.setParticlesPos=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var i=this.particles;if(i)for(var o in i){var a=this.getParticle(o),r=a.particleObj;if(r)for(var s in r)this.setParticlePos(r[s],t,e)}},t.prototype.updataParticlesEmitter=function(){var t=this.particles;if(t)for(var e in t){var i=this.getParticle(e),o=i.particleObj;if(o)for(var a in o)this.updataParticleEmitter(i.parent,o[a])}},t.prototype.setMaxParticles=function(t,e){if(void 0!=t){var i=this.getParticle(t);if(i){var o=i.particleObj;if(o)for(var a in o)o[a].setMaxParticle(e)}}},t.prototype.updataParticleEmitter=function(t,e){e&&t&&e.updateEmitterX(t.width/2)},t.prototype.setParticleIndex=function(t,e){t&&t.setIndex(e)},t.prototype.setParticlePos=function(t,e,i){t&&t.setPos(e,i)},t.prototype.setMaxParticle=function(t,e){t&&t.setMaxParticle(e)},t.prototype.createParticle=function(t,e,i,o,a){var r=this.getParticle(t);if(r){r.particleObj||(r.particleObj={});var s=this.retParticle(r.parent,r.particleObj[o],e,i,a);return r.particleObj[o]=s,s}},t.prototype.retParticle=function(t,e,i,o,a){return t&&i&&o?(e||(e=new com.ComParticle,e.setData(t,i,o),a&&e.start()),e):void 0},t}();t.ParticleMgr=e,__reflect(e.prototype,"util.ParticleMgr")}(util||(util={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.skinName=skins.ComFloat,e}return __extends(e,t),e.prototype.init=function(t){this.data=t},e.prototype.load=function(){this.touchEnabled=this.touchChildren=!1},e.prototype.start=function(){var t=this.data,e=this["float"],i=this.conFloat,o=this.con;e.source=gMath.getRandomAnswer.apply(gMath,t.floatAnswers),t.isAdaptiveScale&&this.parent&&(e.scaleX=e.scaleY=this.parent.scaleX),gComMgr.setItemAnchor(e),gComMgr.setItemAnchor(i),gComMgr.setItemAnchor(o),this.speed(gMath.getRandomInteger(t.speedMax,t.speedMin)),this.rotateDir=gMath.getRandomAnswer(1,-1),this.rotate(gMath.getRandomInteger(t.rotateMax,t.rotateMin)),this.alphaDir=gMath.getRandomAnswer(1,-1),e.alpha=gMath.getRandom(t.alphaMax,t.alphaMin),this.scaleDir=gMath.getRandomAnswer(1,-1),e.scaleX=e.scaleY=gMath.getRandom(t.scaleMax,t.scaleMin),this.die(!1)},e.prototype.stop=function(){},e.prototype.update=function(){this.yoyoRotate(),this.yoyoAlpha(),this.yoyoScale()},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(t){if(1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType},e.prototype.speed=function(t){return void 0==t?this._speed:void(this._speed=t)},e.prototype.rotate=function(t){return void 0==t?this._rotate:(this._rotate=t,void(this["float"].rotation=this._rotate))},e.prototype.yoyoRotate=function(){var t=this.data;if(t.rotateMax!=t.rotateMin){var e=(this["float"],t.rotateDiff),i=this.rotate()+e*this.rotateDir;(i<t.rotateMin||i>t.rotateMax)&&(this.rotateDir*=-1,e*=this.rotateDir,i=this.rotate()+e),this.rotate(i)}},e.prototype.yoyoAlpha=function(){var t=this.data;if(!t.isAllAlpha&&t.alphaMax!=t.alphaMin){var e=this["float"],i=t.alphaDiff,o=e.alpha+i*this.alphaDir;(o<t.alphaMin||o>=t.alphaMax)&&(this.alphaDir*=-1,i*=this.alphaDir,o=e.alpha+i),e.alpha=o}},e.prototype.yoyoScale=function(){var t=this.data;if(t.scaleMax!=t.scaleMin){var e=this["float"],i=t.scaleDiff,o=e.scaleX+i*this.scaleDir;(o<t.scaleMin||o>t.scaleMax)&&(this.scaleDir*=-1,i*=this.scaleDir,o=e.scaleX+i),e.scaleX=e.scaleY=o}},e.prototype.die=function(t){return void 0===t?this._die:void(this._die=t)},e.prototype.dire=function(t){return void 0===t?this._dire:void(this._dire=t)},e}(t.ComFile);t.ComFloat=e,__reflect(e.prototype,"com.ComFloat")}(com||(com={}));var util;!function(t){var e=function(){function t(){this.count=0,this.timer=new egret.Timer(1e3)}return t.prototype.shakeObj=function(t,e,i,o,a,r,s){this.target=t,gTween.rmTweens(this.target),void 0!=r&&(t.x=r),void 0!=s&&(t.y=s),this.initX=t.x,this.initY=t.y,this.maxDisX=o,this.maxDisY=a,this.count=e/1e3*i,this.rate=i,this.timer.delay=1e3/i,this.timer.repeatCount=this.count,this.timer.addEventListener(egret.TimerEvent.TIMER,this.shaking,this),this.timer.addEventListener(egret.TimerEvent.TIMER_COMPLETE,this.shakeComplete,this),this.timer.reset(),this.timer.start()},t.prototype.shaking=function(){this.target.x=this.initX-this.maxDisX+Math.random()*this.maxDisX*2,this.target.y=this.initY-this.maxDisY+Math.random()*this.maxDisY*2,gTween.tween(this.target,void 0,{props:{x:this.initX,y:this.initY},duration:999/this.rate})},t.prototype.shakeComplete=function(){this.target&&(gTween.rmTweens(this.target),this.target.x=this.initX,this.target.y=this.initY),this.timer.removeEventListener(egret.TimerEvent.TIMER,this.shaking,this),this.timer.removeEventListener(egret.TimerEvent.TIMER_COMPLETE,this.shakeComplete,this),this.target.dispatchEventWith(egret.Event.COMPLETE)},t.prototype.stop=function(){this.shakeComplete()},t}();t.ShakeTool=e,__reflect(e.prototype,"util.ShakeTool")}(util||(util={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.isGuide=!1,e.skinName=skins.ComGuide,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.isMC=!1,this.touchEnabled=this.touchChildren=!1,this.hideLight()},e.prototype.load=function(){},e.prototype.start=function(){},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(t){var e=gConst.mobileByScale[GameMgr.screenType][GameMgr.mobileType];if(this.scaleX=this.scaleY=e*this.offS,this.isGuide&&(egret.clearTimeout(this.guideDelay),this.guideDelay=egret.setTimeout(this.playGuide,this,100)),1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType},e.prototype.setMcData=function(t,e,i,o){void 0===e&&(e=1),void 0===i&&(i=0),void 0===o&&(o=0),this.isMC=!0,this.playCnt=e,this.hand.open(),this.hand.setData(t,i,o),this.fName=t[0].fName,this.frameCnt=t[0].frameCnt,this.hand.gotoAndStop(this.fName)},e.prototype.setData=function(t,e,i,o){void 0===o&&(o={}),this.delayTimer=t,this.target1=e.target1,this.target2=e.target2,this.target3=e.target3,this.target4=e.target4,this.target5=e.target5,this.moveTime=e.moveTime,this.isReturn=e.isReturn,this.parentObj=i,this.diffX=void 0!=o.diffX?o.diffX:0,this.diffY=void 0!=o.diffY?o.diffY:20,this.diffS=void 0!=o.diffS?o.diffS:.9,this.pressT=void 0!=o.pressT?o.pressT:300,this.liftT=void 0!=o.liftT?o.liftT:800,this.waitT=void 0!=o.waitT?o.waitT:500,this.direction=void 0!=o.direction?o.direction:gConst.direction.CENTER_CENTER,this.offX=void 0!=o.offX?o.offX:0,this.offY=void 0!=o.offY?o.offY:0,this.offR=void 0!=o.offR?o.offR:0,this.offS=void 0!=o.offS?o.offS:1,this.isBack=void 0!=o.isBack?o.isBack:!1},e.prototype.updateData=function(t){void 0!=t.delayTimer&&(this.delayTimer=t.delayTimer),void 0!=t.targetArg.target1&&(this.target1=t.targetArg.target1),void 0!=t.targetArg.target2&&(this.target2=t.targetArg.target2),void 0!=t.targetArg.target3&&(this.target3=t.targetArg.target3),void 0!=t.targetArg.target4&&(this.target4=t.targetArg.target4),void 0!=t.targetArg.target5&&(this.target5=t.targetArg.target5),void 0!=t.targetArg.moveTime&&(this.moveTime=t.targetArg.moveTime),void 0!=t.targetArg.isReturn&&(this.isReturn=t.targetArg.isReturn),void 0!=t.parentObj&&(this.parentObj=t.parentObj),void 0!=t.prop&&(void 0!=t.prop.diffX&&(this.diffX=t.prop.diffX),void 0!=t.prop.diffY&&(this.diffY=t.prop.diffY),void 0!=t.prop.diffS&&(this.diffS=t.prop.diffS),void 0!=t.prop.pressT&&(this.pressT=t.prop.pressT),void 0!=t.prop.liftT&&(this.liftT=t.prop.liftT),void 0!=t.prop.waitT&&(this.waitT=t.prop.waitT),void 0!=t.prop.direction&&(this.direction=t.prop.direction),void 0!=t.prop.offX&&(this.offX=t.prop.offX),void 0!=t.prop.offY&&(this.offY=t.prop.offY),void 0!=t.prop.offR&&(this.offR=t.prop.offR),void 0!=t.prop.offS&&(this.offS=t.prop.offS),void 0!=t.prop.isBack&&(this.isBack=t.prop.isBack))},e.prototype.play=function(){egret.clearTimeout(this.guideDelay),this.guideDelay=egret.setTimeout(this.playGuide,this,this.delayTimer)},e.prototype.over=function(){var t=this;egret.clearTimeout(this.guideDelay),this.isGuide&&this&&this.parent&&(this.isGuide=!1,this.hideLight(!0),gTween.fadeOut(this.hand,300,1,void 0,void 0,{callback:function(){gTween.rmTweens(t.hand),gComMgr.rmObj(t),t.hand.alpha=1,t.dispatchEventWith(gConst.eventType.GUIDE_STOP)}}))},e.prototype.stopMC=function(){this.isMC&&this.hand.pause()},e.prototype.reset=function(){this.once(gConst.eventType.GUIDE_STOP,this.start,this),this.over()},e.prototype.showLight=function(){var t=this;this.light&&(this.light.x=this.initHandX,this.light.y=this.initHandY,this.light.scaleX=this.light.scaleY=1,gTween.fadeIn(this.light,300,1,void 0,void 0,{callback:function(){gTween.loopScale(t.light,.65,(t.pressT+t.liftT+t.waitT)/2,1)}}))},e.prototype.hideLight=function(t){void 0===t&&(t=!1),this.light&&(t?gTween.fadeOut(this.light,300,1):this.light.visible=!1)},e.prototype.showGuide=function(){this.isMC&&this.hand.gotoAndStop(this.fName),this.show(),this.hand.alpha=1,this.parentObj.addChild(this),this.updateGuideLoc()},e.prototype.updateGuideLoc=function(t){if(void 0===t&&(t=this.target1),this&&this.parent){var e=t.x-t.anchorOffsetX*t.scaleX,i=t.y-t.anchorOffsetY*t.scaleX,o=t.width*t.scaleX,a=t.height*t.scaleX;switch(this.direction){case gConst.direction.LEFT_TOP:this.rotation=135;break;case gConst.direction.CENTER_TOP:e+=o/2,this.rotation=180;break;case gConst.direction.RIGHT_TOP:e+=o,this.rotation=-135;break;case gConst.direction.RIGHT_CENTER:e+=o,i+=a/2,this.rotation=-90;break;case gConst.direction.RIGHT_BOTTOM:e+=o/2,i+=a/2,this.rotation=-45;break;case gConst.direction.CENTER_BOTTOM:e+=o/2,i+=a,this.rotation=0;break;case gConst.direction.LEFT_BOTTOM:i+=a,this.rotation=45;break;case gConst.direction.LEFT_CENTER:i+=a/2,this.rotation=90;break;default:e+=o/2,i+=a/2,this.rotation=0}e+=this.offX*t.scaleX,i+=this.offY*t.scaleX,this.rotation+=this.offR;var r=gConst.mobileByScale[GameMgr.screenType][GameMgr.mobileType];this.scaleX=this.scaleY=r*this.offS;var s=t.parent.localToGlobal(e,i),n=this.globalToLocal(s.x,s.y,s);this.initHandX=this.hand.x=n.x,this.initHandY=this.hand.y=n.y}},e.prototype.playGuide=function(){var t=this;if(this.showGuide(),this.isGuide=!0,gTween.rmTweens(this.hand),this.hand.alpha=0,this.hand.scaleX=this.hand.scaleY=1,this.hand.visible=!0,this.showLight(),this.target2)if(this.target3)if(this.target4)if(this.target5){var e=this.initHandX,i=this.initHandY;this.updateGuideLoc(this.target2);var o=this.initHandX,a=this.initHandY;this.updateGuideLoc(this.target3);var r=this.initHandX,s=this.initHandY;this.updateGuideLoc(this.target4);var n=this.initHandX,h=this.initHandY;this.updateGuideLoc(this.target5);var c=this.initHandX,l=this.initHandY;this.hand.x=e+this.diffX,this.hand.y=i+this.diffY,void 0==this.moveTime&&(this.moveTime=100);var p;p=this.isReturn?{x:e+this.diffX,y:i+this.diffY}:{alpha:0},egret.Tween.get(this.hand).to({alpha:1},300).call(function(){t.isMC?egret.Tween.get(t.hand,{loop:!0}).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).to({x:o,y:a},t.moveTime).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).to({x:r,y:s},t.moveTime).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).to({x:n,y:h},t.moveTime).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).to({x:c,y:l},t.moveTime).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).wait(t.waitT).to(p,t.isReturn?t.moveTime:t.waitT):egret.Tween.get(t.hand,{loop:!0}).to({scaleX:t.diffS,scaleY:t.diffS,x:e,y:i,alpha:1},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:e+t.diffX,y:i+t.diffY},t.liftT).to({x:o+t.diffX,y:a+t.diffY},t.moveTime).to({scaleX:t.diffS,scaleY:t.diffS,x:o,y:a},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:o+t.diffX,y:a+t.diffY},t.liftT).to({x:r+t.diffX,y:s+t.diffY},t.moveTime).to({scaleX:t.diffS,scaleY:t.diffS,x:r,y:s},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:r+t.diffX,y:s+t.diffY},t.liftT).to({x:n+t.diffX,y:h+t.diffY},t.moveTime).to({scaleX:t.diffS,scaleY:t.diffS,x:n,y:h},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:n+t.diffX,y:h+t.diffY},t.liftT).to({x:c+t.diffX,y:l+t.diffY},t.moveTime).to({scaleX:t.diffS,scaleY:t.diffS,x:c,y:l},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:c+t.diffX,y:l+t.diffY},t.liftT).wait(t.waitT).to(p,t.isReturn?4*t.moveTime:t.waitT)},this)}else{var d=this.initHandX,f=this.initHandY;this.updateGuideLoc(this.target2);var u=this.initHandX,g=this.initHandY;this.updateGuideLoc(this.target3);var v=this.initHandX,y=this.initHandY;this.updateGuideLoc(this.target4);var m=this.initHandX,T=this.initHandY;this.hand.x=d+this.diffX,this.hand.y=f+this.diffY,void 0==this.moveTime&&(this.moveTime=100);var E;E=this.isReturn?{x:d+this.diffX,y:f+this.diffY}:{alpha:0},egret.Tween.get(this.hand).to({alpha:1},300).call(function(){t.isMC?egret.Tween.get(t.hand,{loop:!0}).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).to({x:u,y:g},t.moveTime).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).to({x:v,y:y},t.moveTime).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).to({x:m,y:T},t.moveTime).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).wait(t.waitT).to(E,t.isReturn?t.moveTime:t.waitT):egret.Tween.get(t.hand,{loop:!0}).to({scaleX:t.diffS,scaleY:t.diffS,x:d,y:f,alpha:1},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:d+t.diffX,y:f+t.diffY},t.liftT).to({x:u+t.diffX,y:g+t.diffY},t.moveTime).to({scaleX:t.diffS,scaleY:t.diffS,x:u,y:g},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:u+t.diffX,y:g+t.diffY},t.liftT).to({x:v+t.diffX,y:y+t.diffY},t.moveTime).to({scaleX:t.diffS,scaleY:t.diffS,x:v,y:y},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:v+t.diffX,y:y+t.diffY},t.liftT).to({x:m+t.diffX,y:T+t.diffY},t.moveTime).to({scaleX:t.diffS,scaleY:t.diffS,x:m,y:T},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:m+t.diffX,y:T+t.diffY},t.liftT).wait(t.waitT).to(E,t.isReturn?3*t.moveTime:t.waitT)},this)}else{var M=this.initHandX,w=this.initHandY;this.updateGuideLoc(this.target2);var _=this.initHandX,C=this.initHandY;this.updateGuideLoc(this.target3);var S=this.initHandX,b=this.initHandY;this.hand.x=M+this.diffX,this.hand.y=w+this.diffY,void 0==this.moveTime&&(this.moveTime=100);var O;O=this.isReturn?{x:M+this.diffX,y:w+this.diffY}:{alpha:0},egret.Tween.get(this.hand).to({alpha:1},300).call(function(){t.isMC?egret.Tween.get(t.hand,{loop:!0}).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).to({x:_,y:C},t.moveTime).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).to({x:S,y:b},t.moveTime).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).wait(t.waitT).to(O,t.isReturn?t.moveTime:t.waitT):egret.Tween.get(t.hand,{loop:!0}).to({scaleX:t.diffS,scaleY:t.diffS,x:M,y:w,alpha:1},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:M+t.diffX,y:w+t.diffY},t.liftT).to({x:_+t.diffX,y:C+t.diffY},t.moveTime).to({scaleX:t.diffS,scaleY:t.diffS,x:_,y:C},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:_+t.diffX,y:C+t.diffY},t.liftT).to({x:S+t.diffX,y:b+t.diffY},t.moveTime).to({scaleX:t.diffS,scaleY:t.diffS,x:S,y:b},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:S+t.diffX,y:b+t.diffY},t.liftT).wait(t.waitT).to(O,t.isReturn?2*t.moveTime:t.waitT)},this)}else{var x=this.initHandX,D=this.initHandY;this.updateGuideLoc(this.target2);var R=this.initHandX,P=this.initHandY;this.hand.x=x+this.diffX,this.hand.y=D+this.diffY,void 0==this.moveTime&&(this.moveTime=100);var L;L=this.isReturn?{x:x+this.diffX,y:D+this.diffY}:{alpha:0},egret.Tween.get(this.hand).to({alpha:1},300).call(function(){t.isMC?egret.Tween.get(t.hand,{loop:!0}).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).to({x:R,y:P},t.moveTime).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).wait(t.liftT).wait(t.waitT).to(L,t.isReturn?t.moveTime:t.waitT):egret.Tween.get(t.hand,{loop:!0}).to({scaleX:t.diffS,scaleY:t.diffS,x:x,y:D,alpha:1},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:x+t.diffX,y:D+t.diffY},t.liftT).to({x:R+t.diffX,y:P+t.diffY},t.moveTime).to({scaleX:t.diffS,scaleY:t.diffS,x:R,y:P},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:R+t.diffX,y:P+t.diffY},t.liftT).wait(t.waitT).to(L,t.isReturn?t.moveTime:t.waitT)},this)}else this.isBack?(this.hand.x=this.initHandX,this.hand.y=this.initHandY,egret.Tween.get(this.hand).to({alpha:1},300).call(function(){t.isMC?egret.Tween.get(t.hand,{loop:!0}).call(function(){t.hand.gotoAndStop(t.fName,2)},t).wait(t.liftT+t.waitT).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndReverse(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(t.frameCnt+3)).call(function(){t.hand.gotoAndStop(t.fName,2)},t).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]):egret.Tween.get(t.hand,{loop:!0}).to({scaleX:1,scaleY:1,x:t.initHandX+t.diffX,y:t.initHandY+t.diffY},t.liftT).wait(t.waitT).to({scaleX:t.diffS,scaleY:t.diffS,x:t.initHandX,y:t.initHandY},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE])},this)):(this.hand.x=this.initHandX+this.diffX,this.hand.y=this.initHandY+this.diffY,egret.Tween.get(this.hand).to({alpha:1},300).call(function(){if(t.isMC)if(t.playCnt>-1){var e=t.playCnt;egret.Tween.get(t.hand,{loop:!0}).call(function(){t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt)},t).wait(t.pressT*t.playCnt*(2*t.frameCnt)).call(function(){t.hand.gotoAndStop(t.fName)},t).call(function(){return t.dispatchEventWith.call(t,gConst.eventType.GUIDE_TOUCH_ONE),e--,0>=e?void t.over():void 0}).wait(t.waitT)}else t.hand.interval=t.pressT,t.hand.gotoAndPlay(t.fName,t.playCnt);else egret.Tween.get(t.hand,{loop:!0}).to({scaleX:t.diffS,scaleY:t.diffS,x:t.initHandX,y:t.initHandY},t.pressT).call(t.dispatchEventWith,t,[gConst.eventType.GUIDE_TOUCH_ONE]).to({scaleX:1,scaleY:1,x:t.initHandX+t.diffX,y:t.initHandY+t.diffY},t.liftT).wait(t.waitT)},this))},e}(t.ComFile);t.ComGuide=e,__reflect(e.prototype,"com.ComGuide")}(com||(com={}));var util;!function(t){var e=function(){function t(t){this._starPool=[],this._curAllStar=[],this.con=t}return t.prototype.update=function(t){this.addStar()},t.prototype.show=function(t,e){this.updateData(t,e),this.intervalMax=void 0!=this.intervalMax?this.intervalMax:300,this.intervalMin=void 0!=this.intervalMin?this.intervalMin:100,this.scaleMax=void 0!=this.scaleMax?this.scaleMax:1,this.scaleMin=void 0!=this.scaleMin?this.scaleMin:.3,this.isShowed=!0,this.addStar(),this.updateNextShow(),egret.startTick(this.update,this)},t.prototype.updateData=function(t,e){t&&(this.starAnswers=t),e&&(void 0!=e.intervalMax&&(this.intervalMax=e.intervalMax),void 0!=e.intervalMin&&(this.intervalMin=e.intervalMin),void 0!=e.scaleMax&&(this.scaleMax=e.scaleMax),void 0!=e.scaleMin&&(this.scaleMin=e.scaleMin),void 0!=e.isRotate&&(this.isRotate=e.isRotate),void 0!=e.isAdaptiveScale&&(this.isAdaptiveScale=e.isAdaptiveScale),void 0!=e.starMaxCnt&&(this.starMaxCnt=e.starMaxCnt))},t.prototype.hide=function(t){if(void 0===t&&(t=!0),egret.stopTick(this.update,this),this.isShowed=!1,t)for(var e=0,i=this._curAllStar,o=i.length>e?i[e]:null;o;)this.removeStar(o),o=i.length>e?i[e]:null},t.prototype.updateNextShow=function(){var t=this.intervalMax,e=this.intervalMin;1==GameMgr.screenType&&(t=Math.floor(.9*t),e=Math.floor(.9*e)),this.nextShowStar=egret.getTimer()+gMath.getRandomInteger(t,e)},t.prototype.createStar=function(t){var e;return this._starPool&&this._starPool.length>0?(e=this._starPool.shift(),e.source=t):e=new eui.Image(t),e},t.prototype.removeStar=function(t){gTween.rmTweens(t),egret.clearTimeout(t.hideDelay),gComMgr.rmObj(t),gDevelop.arrDelVal(this._curAllStar,t),this._starPool.push(t)},t.prototype.addStar=function(){var t=this;if(this.isShowed&&!(this.nextShowStar>=egret.getTimer()||(this.updateNextShow(),void 0!=this.starMaxCnt&&this.starMaxCnt<=this._curAllStar.length))){var e=gMath.getRandomAnswer.apply(gMath,this.starAnswers),i=this.createStar(e);gComMgr.setObjAnchor(i),i.visible=!1;var o=function(){i.alpha=0,i.scaleX=i.scaleY=0,i.visible=!0;var e=gMath.getRandom(t.scaleMax,t.scaleMin)/(t.isAdaptiveScale&&t.con.parent?t.con.parent.scaleX:1),o=gMath.getRandomInteger(150,50);if(egret.Tween.get(i).to({scaleX:e,scaleY:e,alpha:1},o).call(function(){var t=gMath.getRandomInteger(800,300),e=gMath.getRandom(.6,.2);egret.Tween.get(i,{loop:!0}).to({alpha:e},t).to({alpha:1},t)}),t.isRotate){var a=gMath.getRandomInteger(3e3,1200);egret.Tween.get(i,{loop:!0}).to({rotation:360},a)}var r=gMath.getRandomInteger(2500,1e3),s=gMath.getRandomInteger(500,300);i.hideDelay=egret.setTimeout(function(){egret.Tween.get(i).to({scaleX:0,scaleY:0,alpha:0},s).call(function(){t.removeStar(i)})},t,r)},a=function(e){e.x=gMath.getRandomInteger(t.con.width),e.y=gMath.getRandomInteger(t.con.height),o.call(t)};a.call(this,i),this.con.addChild(i),this._curAllStar.push(i)}},t}();t.StarMgr=e,__reflect(e.prototype,"util.StarMgr")}(util||(util={}));var com;!function(t){var e=function(t){function e(){var e=t.call(this)||this;return e.lightPool=[],e.skinName=skins.ComLight,e}return __extends(e,t),e.prototype.init=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},e.prototype.load=function(){var t=this.con,e=this.light;gComMgr.setItemAnchor(e),gComMgr.setItemAnchor(t),this.touchEnabled=this.touchChildren=!1,this.anchorOffsetX=this.width/2,this.anchorOffsetY=this.height/2},e.prototype.start=function(){var t=this,e=this.con,i=this.light;e.removeChildren(),e.visible=!0,gTween.rmTweens(e),this.lightPool=[i];var o=GameMgr.getConfig("handTime");void 0==o&&(o=500),egret.setTimeout(function(){t.addLight(),t.addLightDelay=egret.setInterval(t.addLight,t,o+gGuideMgr.pressT+gGuideMgr.liftT)},this,gGuideMgr.delayTimer+gGuideMgr.liftT),this.show()},e.prototype.stop=function(){},e.prototype.update=function(){},e.prototype.addEvent=function(){},e.prototype.removeEvent=function(){},e.prototype.resizeView=function(t){if(1==GameMgr.screenType)switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}else switch(GameMgr.mobileType){case 1:break;case 2:break;case 3:}},e.prototype.rotateView=function(t){1==GameMgr.screenType},e.prototype.createLight=function(){var t;return t=this.lightPool&&this.lightPool.length>0?this.lightPool.shift():new eui.Image(this.light.source),gTween.rmTweens(t),t},e.prototype.removeLight=function(t){this.lightPool||(this.lightPool=[]),gTween.rmTweens(t),gComMgr.rmObj(t),this.lightPool.push(t)},e.prototype.addLight=function(){var t=this,e=this.con,i=this.createLight();i.alpha=0,i.scaleX=i.scaleY=0,e.addChild(i),gComMgr.setItemAnchor(i);var o=1500,a=500;egret.Tween.get(i).to({alpha:1},a),egret.Tween.get(i).to({scaleX:3,scaleY:3},o),egret.setTimeout(function(){egret.Tween.get(i).to({alpha:0},a).call(function(){t.removeLight(i)})},this,o-a)},e.prototype.hide=function(){var e=this;egret.clearInterval(this.addLightDelay),gTween.fadeOut(this.con,300,1,void 0,void 0,{callback:function(){t.prototype.hide.call(e)}})},e}(t.ComFile);t.ComLight=e,__reflect(e.prototype,"com.ComLight")}(com||(com={}));var GameMgr=function(){function t(){}return t.init=function(){gGuideMgr.init(),this.isEnd=!1,this.endType=null,this.auto=!1},t.getConfig=function(t){var e=RES.getRes("gameConfig_json");if(e[t])return e[t];if(e.gameConfig&&e.gameConfig[t])return e.gameConfig[t];var i=e.gameDifficulty,o=e.gameConfig[i];return o&&o[t]?o[t]:null},Object.defineProperty(t,"getWinW",{get:function(){var t=window.adWidth||window.innerWidth;if(window.MW_CONFIG&&"vungle"==MW_CONFIG.channel){var e=document.body;t=e.offsetWidth}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"getWinH",{get:function(){var t=window.adHeight||window.innerHeight;if(window.MW_CONFIG&&"vungle"==MW_CONFIG.channel){var e=document.body;t=e.offsetHeight}return t},enumerable:!0,configurable:!0}),t.replay=function(){this.isReplay=!0,this.replayCnt++,this.gameScene.replay()},t.isShowReplay=function(){if(0==t.endType){var e=t.getConfig("playAgain");if(e&&(0>e||t.replayCnt<e))return!0}return!1},t.replayInstall=function(){if(0==t.endType){var e=t.getConfig("playAgain");
return e&&(0>e||t.replayCnt<e)?!1:!0}return!1},Object.defineProperty(t,"isEnd",{get:function(){return this._isEnd},set:function(t){this._isEnd=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"endType",{get:function(){return this._endType},set:function(t){this._endType=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"auto",{get:function(){return this._auto},set:function(t){this._auto=t},enumerable:!0,configurable:!0}),t}();GameMgr.screenType=null,GameMgr.mobileType=null,GameMgr.lan="us",GameMgr.isReplay=!1,GameMgr.replayCnt=0,GameMgr._isEnd=!1,GameMgr._auto=!1,__reflect(GameMgr.prototype,"GameMgr");